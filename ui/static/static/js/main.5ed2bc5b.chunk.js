(this["webpackJsonpvees-ui"]=this["webpackJsonpvees-ui"]||[]).push([[0],{124:function(e,t,a){e.exports=a(169)},129:function(e,t,a){},153:function(e,t,a){"use strict";var n=a(154);function r(e){window.localStorage.setItem(n.HEADER_NAME,e||"")}function i(e){var t=window.localStorage.getItem(n.HEADER_NAME);return e.headers[n.HEADER_NAME]=t,e}function c(e){return r(e.headers[n.HEADER_NAME]),e}function l(e){throw r(e.response.headers[n.HEADER_NAME]),e}e.exports=function(e){var t=e.axios;try{t.interceptors.request.use(i),t.interceptors.response.use(c,l)}catch(a){throw a}}},154:function(e,t){e.exports={HEADER_NAME:"openstack-xavisoft-auth-token"}},169:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),c=a.n(i),l=a(31),s=a(16),o=(a(129),a(8)),u=a.n(o),d=a(11),p=a(12),m=a(14),h=a(13),v=a(17),f=a(15),b=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"_updateState",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)(Object(f.a)({},this.state||{}),t),e.next=3,this.setState(a);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeHandlerGenerator",value:function(e){return function(e){var t;t="object"==typeof e?e.target.value:e;var a=(this.componentInstance.state||{}).values||{};a[this.name]=t,this.componentInstance._updateState({values:a})}.bind({componentInstance:this,name:e})}},{key:"render",value:function(){return r.a.createElement("p",null,"Please implement ",r.a.createElement("code",null,"render()"))}}]),a}(r.a.Component),E=a(215),y=a(216),g=a(101),O=a.n(g),k=a(217),x=a(227),w=a(218),j=a(172),C=a(225),I=a(98),A=a(108),_={cart:[],cartMap:new Map,cartOpen:!1},T=Object(I.a)((function(e,t){var a=t.type,n=t.payload,r=e.cart,i=e.cartMap;switch(a){case"ADD_ITEM_TO_CART":var c=n.item,l=n.quantity,s=void 0===l?1:l,o=c.id;if(i.get(o))for(var u in r){var d=r[u];if(d.id===o){var p=d.quantity+s;p>0&&(d.quantity=p)}}else{var m={quantity:s,id:o,item:c};r.push(m),i.set(o,m)}return Object(f.a)(Object(f.a)({},e),{},{cartMap:i,cart:Object(A.a)(r)});case"OPEN_CART":return Object(f.a)(Object(f.a)({},e),{},{cartOpen:!0});case"CLOSE_CART":return Object(f.a)(Object(f.a)({},e),{},{cartOpen:!1});case"EMPTY_CART":return Object(f.a)(Object(f.a)({},e),{},{cart:[],cartMap:new Map});case"REMOVE_ITEM_FROM_CART":var h=n.id;return r=r.filter((function(e){return e.id!==h})),Object(f.a)(Object(f.a)({},e),{},{cartMap:i,cart:r});default:return e}}),_);var D,M={addItemToCart:function(e,t){var a={type:"ADD_ITEM_TO_CART",payload:{item:e,quantity:t}};T.dispatch(a)},openCart:function(){T.dispatch({type:"OPEN_CART"})},closeCart:function(){T.dispatch({type:"CLOSE_CART"})},emptyCart:function(){T.dispatch({type:"EMPTY_CART"})},removeItemFromCart:function(e){T.dispatch({type:"REMOVE_ITEM_FROM_CART",payload:{id:e}})}},S=a(62),N=a(56),R=a(211),P={justifyContent:"center",alignItems:"center",position:"fixed",left:0,top:0,right:0,bottom:0,background:"white",zIndex:2e3},q=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={display:"none"},D?Object(S.a)(n,D):(D=Object(N.a)(n),n)}return Object(p.a)(a,[{key:"hide",value:function(){this._updateState({display:"none"})}},{key:"show",value:function(){this._updateState({display:"flex"})}},{key:"render",value:function(){var e=this.state.display;return r.a.createElement("div",{style:Object(f.a)(Object(f.a)({},P),{},{display:e})},r.a.createElement(R.a,{variant:"indeterminate",id:"div-loading-indicator"}))}}]),a}(b);function z(){try{D.hide()}catch(e){}}var W=a(135),L=a(153);function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log(e);var t=e.response,a=void 0===t?{}:t,n=a.data,r=void 0===n?"":n;return r.toString()||a.statusText||"Something went wrong!!"}W.interceptors.request.use((function(e){return e.background||function(){try{D.show()}catch(e){}}(),e})),W.interceptors.response.use((function(e){return z(),e}),(function(e){throw z(),e})),L({axios:W});var H=W,B={display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%"};function U(){var e=document.getElementById("navbar");if(e){var t=e.offsetHeight+"px";document.documentElement.style.setProperty("--navbar-height",t)}}function V(){return G.apply(this,arguments)}function G(){return(G=Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.delete("/api/login-credentials");case 3:window.Vees.redirect("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(F(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var Y=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={drawerOpened:!1},e}return Object(p.a)(a,[{key:"openDrawer",value:function(){this._updateState({drawerOpened:!0})}},{key:"closeDrawer",value:function(){this._updateState({drawerOpened:!1})}},{key:"componentDidMount",value:function(){this.resizeObserver=new ResizeObserver(U),U()}},{key:"componentWillUnmount",value:function(){this.resizeObserver.disconnect()}},{key:"render",value:function(){var e=[{caption:"Login",route:"/"},{caption:"Register Outlet",route:"/outlets/register"},{caption:"Create Account",route:"/signup"},{caption:"Outlets",route:"/outlets"},{caption:"cart",onClick:M.openCart},{caption:"logout",onClick:V}],t=this.state.drawerOpened,a=this.openDrawer.bind(this),n=this.closeDrawer.bind(this),i=this.props.classes;return r.a.createElement(E.a,{id:"navbar"},r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0,xs:9},r.a.createElement("div",{style:B},r.a.createElement("h2",{style:{textAlign:"center"}},"VEE'S"))),r.a.createElement(y.a,{item:!0,xs:3},r.a.createElement("div",{style:B},r.a.createElement(k.a,{variant:"text",fullWidth:!0,style:{background:"transparent",color:"white"},onClick:a},r.a.createElement(O.a,null))))),r.a.createElement(x.a,{variant:"persistant",open:t,onClick:n,className:i.drawer},r.a.createElement(w.a,null,r.a.createElement(j.a,{style:{borderBottom:"1px solid grey"}},r.a.createElement("h2",null,"VEES")),e.map((function(e){var t=e.caption,a=e.route,n=e.onClick;return r.a.createElement(j.a,null,r.a.createElement(l.b,{to:a,onClick:n},t))})))))}}]),a}(b),J=Object(C.a)((function(e){return{drawer:{"& a":{textTransform:"uppercase",color:"blue",fontFamily:"Arial",fontWeight:"600",textDecoration:"none",fontSize:20}}}}))(Y),K=a(219),X=a(220),Q=a(221),$=a(223),Z=a(226),ee=a(222),te=[{id:"1",name:"Item 1"},{id:"3",name:"Item 2"},{id:"3",name:"Item 3"}],ae=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={values:{},selectedItems:[]},e}return Object(p.a)(a,[{key:"addItemToList",value:function(){var e,t=this.state.values,a=t.itemID,n=t.quantity;if(!a)return alert("Select item.");if(!n)return alert("Add quantity.");for(var r in te)if(te[r].id===a){e=te[r];break}if(e){var i,c=this.state.selectedItems;for(var l in c)if(c[l].id===a){i=c[l];break}i?i.quantity+=n:c.push({id:a,quantity:n,name:e.name});this._updateState({selectedItems:c,values:{itemID:"",quantity:""}})}}},{key:"render",value:function(){var e=this.state.values,t=e.itemID,a=e.quantity,n=this.state.open,i=this.onChangeHandlerGenerator.bind(this),c=this.addItemToList.bind(this);return r.a.createElement(K.a,{open:n},r.a.createElement(X.a,null,"UPDATE STOCK"),r.a.createElement(Q.a,null,r.a.createElement(Z.a,{id:"sel-menu-item",label:"Select item",select:!0,fullWidth:!0,value:t,onChange:i("itemID")},te.map((function(e){return r.a.createElement(ee.a,{value:e.id},e.name)}))),r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:8},r.a.createElement(Z.a,{id:"txt-quantity",placeholder:"Qty",fullWidth:!0,value:a,onChange:i("quantity")})),r.a.createElement(y.a,{item:!0,xs:4},r.a.createElement(k.a,{color:"primary",fullWidth:!0,onClick:c},"ADD"))),r.a.createElement("hr",null),this.state.selectedItems.map((function(e){return r.a.createElement("div",null,e.quantity," ",r.a.createElement("strong",null,r.a.createElement("bigger",null,"X"))," ",e.name)}))),r.a.createElement($.a,null,r.a.createElement(k.a,null,"UPDATE"),r.a.createElement(k.a,null,"CLOSE")))}}]),a}(b),ne=a(224),re=a(106),ie=a.n(re),ce=a(105),le=a.n(ce),se=a(107),oe=a.n(se),ue=a(60),de=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"getItemByEventTarget",value:function(e){var t,a=e.currentTarget.getAttribute("data-item-id"),n=this.props.cart;for(var r in n)if(n[r].id.toString()===a){t=n[r];break}return t}},{key:"increment",value:function(e){var t=this.getItemByEventTarget(e);M.addItemToCart(t,1)}},{key:"decrement",value:function(e){var t=this.getItemByEventTarget(e);M.addItemToCart(t,-1)}},{key:"remove",value:function(e){var t=e.currentTarget.getAttribute("data-item-id");M.removeItemFromCart(parseInt(t))}},{key:"placeOrder",value:function(){alert("Feature coming soon")}},{key:"render",value:function(){var e,t=this.props,a=t.cart,n=t.open;0===a.length&&(e=r.a.createElement(ne.a,{style:{padding:"20px"}},"Your cart is empty."));var i=this.increment.bind(this),c=this.decrement.bind(this),l=this.remove.bind(this),s=this.placeOrder.bind(this);return r.a.createElement(K.a,{open:n},r.a.createElement(X.a,null,"CART"),e||r.a.createElement(Q.a,null,a.map((function(e){var t=e.quantity,a=e.item,n=a.name,s=a.id;return r.a.createElement("p",{style:{borderBottom:"1px solid grey",fontFamily:"Arial",padding:"10px 0"}},t," X ",n,r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement(pe,{icon:r.a.createElement(le.a,{size:"small"}),color:"blue",onClick:c,"data-item-id":s}),r.a.createElement(pe,{icon:r.a.createElement(ie.a,{size:"small"}),color:"blue",onClick:i,"data-item-id":s}),r.a.createElement(pe,{icon:r.a.createElement(oe.a,{size:"small"}),color:"red",onClick:l,"data-item-id":s})))}))),r.a.createElement($.a,null,r.a.createElement(k.a,{onClick:s},"PLACE ORDER"),r.a.createElement(k.a,{onClick:M.emptyCart},"EMPTY CART"),r.a.createElement(k.a,{onClick:M.closeCart},"CLOSE")))}}]),a}(b),pe=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.icon,a=e.onClick,n=e.color;return r.a.createElement(k.a,{onClick:a,style:{color:n},color:"primary","data-item-id":this.props["data-item-id"]},t)}}]),a}(b);var me=Object(ue.b)((function(e){return{cart:e.cart,open:e.cartOpen,cartMap:e.cartMap}}))(de),he=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;if(Object(d.a)(this,a),n=t.call(this,e),void 0===window.Netro){window.Vees={},window.Vees.history=e.history;var r=function(e){window.Vees.history.push(e)};window.Vees.redirect=r,a.redirect=r}return n}return Object(p.a)(a,[{key:"_componentDidMount",value:function(){}},{key:"componentDidMount",value:function(){var e=Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._componentDidMount();case 2:window.scrollTo(0,0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_render",value:function(){return r.a.createElement("h1",null,"Please implement ",r.a.createElement("code",null,"_render()"))}},{key:"render",value:function(){return r.a.createElement("div",{className:"page"},this._render())}}]),a}(b),ve=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={values:{}},e}return Object(p.a)(a,[{key:"login",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.values,a=t.email,n=t.password,a){e.next=3;break}return e.abrupt("return",alert("Email is required"));case 3:if(n){e.next=5;break}return e.abrupt("return",alert("Password is required"));case 5:return r={username:a,password:n},e.prev=6,e.next=9,H.post("/api/login-credentials",r);case 9:he.redirect("/outlets"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),alert(F(e.t0));case 15:case"end":return e.stop()}}),e,this,[[6,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"_render",value:function(){var e=this.state.values,t=e.email,a=e.password,n=this.onChangeHandlerGenerator.bind(this),i=this.login.bind(this);return r.a.createElement("div",{className:this.props.classes.root},r.a.createElement("h1",{className:"center-align",style:{margin:"100px 0",fontSize:50,fontFamily:"Arial"}},"Welcome To",r.a.createElement("br",null),"VEE'S"),r.a.createElement(Z.a,{fullWidth:!0,size:"large",id:"txt-email",placeholder:"Email",value:t,onChange:n("email"),className:"text-field"}),r.a.createElement(Z.a,{fullWidth:!0,size:"large",id:"txt-password",placeholder:"Password",type:"password",value:a,onChange:n("password"),className:"text-field"}),r.a.createElement(k.a,{fullWidth:!0,variant:"contained",size:"large",color:"primary",onClick:i},"LOGIN"),r.a.createElement("span",{className:"center-align"},"Don't have an account? ",r.a.createElement(l.b,{to:"/signup"},"Sign up")))}}]),a}(he),fe=Object(C.a)((function(e){return{root:{"& .text-field":{marginBottom:"30px"},margin:"20px","& span.center-align":{display:"block",marginTop:"10px",color:"#333",fontSize:20}}}}))(ve),be=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={values:{}},e}return Object(p.a)(a,[{key:"submit",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t,a,n,r,i,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.values,a=t.name,n=t.email,r=t.password,i=t.confirm_password,c=t.location,a){e.next=3;break}return e.abrupt("return",alert("Provide name"));case 3:if(n){e.next=5;break}return e.abrupt("return",alert("Provide email"));case 5:if(r){e.next=7;break}return e.abrupt("return",alert("Provide password"));case 7:if(i){e.next=9;break}return e.abrupt("return",alert("Confirm password"));case 9:if(r===i){e.next=11;break}return e.abrupt("return",alert("Password mismatch"));case 11:if(c){e.next=13;break}return e.abrupt("return",alert("Provide location"));case 13:return l={name:a,email:n,password:r,location:c},e.prev=14,e.next=17,H.post("/api/users",l);case 17:alert("Account created successfully, you will be redirected to sign in."),window.Vees.redirect("/"),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(14),alert(F(e.t0));case 24:case"end":return e.stop()}}),e,this,[[14,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"_render",value:function(){var e=this.state.values,t=e.name,a=e.email,n=e.password,i=e.confirm_password,c=e.location,s=this.onChangeHandlerGenerator.bind(this),o=this.submit.bind(this);return r.a.createElement("div",{className:this.props.classes.root},r.a.createElement("h1",{style:{padding:"40px 0"}},"CREATE ACCOUNT"),r.a.createElement(Z.a,{fullWidth:!0,size:"large",id:"txt-name",placeholder:"Name",value:t,onChange:s("name"),className:"text-field"}),r.a.createElement(Z.a,{fullWidth:!0,size:"large",id:"txt-email",placeholder:"Email",value:a,onChange:s("email"),className:"text-field"}),r.a.createElement(Z.a,{fullWidth:!0,size:"large",id:"txt-password",type:"password",placeholder:"Password",value:n,onChange:s("password"),className:"text-field"}),r.a.createElement(Z.a,{fullWidth:!0,size:"large",id:"txt-confirm",type:"password",placeholder:"Confirm password",value:i,onChange:s("confirm_password"),className:"text-field"}),r.a.createElement(Z.a,{fullWidth:!0,size:"large",id:"txt-location",placeholder:"Location",value:c,onChange:s("location"),className:"text-field"}),r.a.createElement(k.a,{fullWidth:!0,variant:"contained",size:"large",color:"primary",onClick:o},"CREATE ACCOUNT"),r.a.createElement("span",{className:"center-align"},"Already have an account? ",r.a.createElement(l.b,{to:"/"},"Sign in")))}}]),a}(he),Ee=Object(C.a)((function(e){return{root:{"& .text-field":{marginBottom:"30px"},margin:"20px","& span.center-align":{display:"block",marginTop:"10px",color:"#333",fontSize:20}}}}))(be),ye=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={values:{}},e}return Object(p.a)(a,[{key:"submit",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.values,a=t.name,n=t.location,a){e.next=3;break}return e.abrupt("return",alert("Name is required"));case 3:if(n){e.next=5;break}return e.abrupt("return",alert("Location is required"));case 5:return r={name:a,location:n},e.prev=6,e.next=9,H.post("/api/outlets",r);case 9:e.sent,alert("Outlet created"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),alert(F(e.t0));case 16:case"end":return e.stop()}}),e,this,[[6,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_render",value:function(){var e=this.onChangeHandlerGenerator.bind(this),t=this.submit.bind(this),a=this.state.values,n=a.name,i=a.location,c=this.props.classes;return r.a.createElement("div",{style:{margin:"100px 20px"},className:c.root},r.a.createElement("h1",{className:"center-align"},"Register Outlet"),r.a.createElement(Z.a,{placeholder:"Outlet name",onChange:e("name"),value:n,className:"text-field",fullWidth:!0}),r.a.createElement(Z.a,{placeholder:"Location",onChange:e("location"),value:i,className:"text-field",fullWidth:!0}),r.a.createElement(k.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:t},"REGISTER"))}}]),a}(he),ge=Object(C.a)((function(e){return{root:{"& .text-field":{marginBottom:"30px"}}}}))(ye),Oe=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={outlets:[],fetched:!1},e}return Object(p.a)(a,[{key:"fetchOutlets",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.get("/api/outlets");case 3:return t=e.sent,a=t.data,e.next=7,this._updateState({outlets:a,fetched:!0});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert(F(e.t0));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"_componentDidMount",value:function(){this.fetchOutlets()}},{key:"_render",value:function(){var e,t,a=this.state,n=a.outlets,i=a.fetched,c=this.fetchOutlets.bind(this),s={display:"flex",justifyContent:"center",alignItems:"center",height:"calc(var(--window-height) - var(--navbar-height))"};return i?0===n.length&&(e=r.a.createElement("div",{style:s},r.a.createElement("h3",null,"No outlets yet."))):t=r.a.createElement("div",{style:s},r.a.createElement("h3",null,"Fetching data failed."),r.a.createElement(k.a,{color:"primary",variant:"contained",onClick:c},"retry")),t||e||r.a.createElement("div",{style:{margin:"20px"}},r.a.createElement("h1",{className:"center-align"},"Available Outlets"),n.map((function(e){var t=e.id,a=e.name,n=e.location;return r.a.createElement("div",{style:{borderBottom:"1px solid grey",paddingBottom:"20px"}},r.a.createElement("h2",null,a),r.a.createElement("h3",{style:{color:"grey"}},n),r.a.createElement(k.a,{variant:"contained",color:"primary",component:l.b,to:"/outlets/".concat(t)},"CHECK US OUT"))})))}}]),a}(he);var ke=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"editItem",value:function(){this.props.edit(this.props.data.id)}},{key:"deleteItem",value:function(){this.props.delete(this.props.data.id)}},{key:"addToCart",value:function(){var e=this.props.data;M.addItemToCart(e,1)}},{key:"render",value:function(){var e=this.props.data,t=e.picture,a=e.name,n=e.price,i=void 0===n?0:n,c=e.items_in_stock,l=void 0===c?0:c,s=this.props.isOwner,o=this.deleteItem.bind(this),u=this.editItem.bind(this),d=this.addToCart.bind(this);return r.a.createElement(y.a,{container:!0,style:{paddingBottom:0,borderBottom:"1px solid grey"}},r.a.createElement(y.a,{item:!0,xs:5},r.a.createElement("img",{src:t,style:{width:"100%",aspectRatio:"1"}})),r.a.createElement(y.a,{item:!0,xs:7,style:{padding:12}},r.a.createElement("h5",null,a),r.a.createElement("h3",null,"$",function(e){return(e=parseFloat(e)).toFixed(2)}(i)),r.a.createElement("span",null,"Items In Stock: ",r.a.createElement("span",{style:{color:"green"}},l)),s?r.a.createElement("div",null,r.a.createElement(k.a,{style:{color:"red"},onClick:o},"delete"),r.a.createElement(k.a,{color:"primary",onClick:u},"edit")):r.a.createElement(k.a,{size:"small",color:"secondary",variant:"contained",onClick:d},"ADD TO CART")))}}]),a}(b),xe=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={addItemModalOpen:!1},e}return Object(p.a)(a,[{key:"deleteItem",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.match.params.id,n="/api/outlets/".concat(a,"/items/").concat(t),e.prev=2,e.next=5,H.delete(n);case 5:return r=this.state.items.filter((function(e){return e.id!==t})),e.next=8,this._updateState({items:r});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),alert(F(e.t0));case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"editItem",value:function(e){alert("Feature coming very soon.")}},{key:"closeAddItemModal",value:function(){this._updateState({addItemModalOpen:!1})}},{key:"openAddItemModal",value:function(){this._updateState({addItemModalOpen:!0})}},{key:"fetchData",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t,a,n,r,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.id,e.next=4,H.get("/api/outlets/".concat(t));case 4:return a=e.sent,n=a.data,r=n.items,i=n.name,c=n.isOwner,e.next=8,this._updateState({items:r,name:i,isOwner:c,dataFetched:!0});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(F(e.t0));case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"addItem",value:function(e){var t=this.state.items;t.push(e),this._updateState({items:t})}},{key:"_componentDidMount",value:function(){this.fetchData()}},{key:"_render",value:function(){var e,t,a=this.state,n=a.items,i=a.dataFetched,c=a.isOwner,l=a.name,s=a.addItemModalOpen,o=this.props.match.params.id,u=this.fetchData.bind(this),d=this.openAddItemModal.bind(this),p=this.closeAddItemModal.bind(this),m=this.addItem.bind(this),h=this.deleteItem.bind(this),v=this.editItem.bind(this);if(i)0===n.length&&(t=r.a.createElement("div",null,"No items in this outlet."));else{e=r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"calc(var(--window-height) - var(--navbar-height))"}},r.a.createElement("h2",null,"Failed to fetch data"),r.a.createElement("br",null),r.a.createElement(k.a,{color:"primary",variant:"contained",onClick:u},"retry"))}return e||r.a.createElement("div",null,r.a.createElement("div",{className:"center-align"},r.a.createElement("h1",{style:{margin:0,padding:0}},l),r.a.createElement("h3",{style:{color:"grey",margin:0,padding:0}},"Our Menu")),t||n.map((function(e){return r.a.createElement(ke,{data:e,isOwner:c,edit:v,delete:h})})),r.a.createElement(we,{open:s,close:p,outletID:o,addItem:m}),c?r.a.createElement(k.a,{color:"primary",onClick:d},"ADD ITEM"):void 0)}}]),a}(he),we=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={values:{}},e}return Object(p.a)(a,[{key:"submit",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t,a,n,r,i,c,l,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.values,a=t.picture,n=t.name,r=t.price,n){e.next=3;break}return e.abrupt("return",alert("Name is required"));case 3:if(r){e.next=5;break}return e.abrupt("return",alert("Price is required"));case 5:if(a){e.next=7;break}return e.abrupt("return",alert("Picture is required"));case 7:return i={name:n,price:r,picture:a},c=this.props.outletID,l="/api/outlets/".concat(c,"/items"),e.prev=10,e.next=13,H.post(l,i);case 13:s=e.sent,o=s.data.id,this.props.addItem(Object(f.a)(Object(f.a)({},i),{},{id:o})),this._updateState({values:{picture:"",price:"",name:""}}),this.props.close(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),alert(F(e.t0));case 23:case"end":return e.stop()}}),e,this,[[10,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"onPictureChange",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,a.getDataURL(n);case 5:r=e.sent,i=Object(f.a)(Object(f.a)({},this.state.values),{},{picture:r}),this._updateState({values:i});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.values,t=e.name,a=e.price,n=e.picture,i=this.onChangeHandlerGenerator.bind(this),c=this.onPictureChange.bind(this),l=this.submit.bind(this),s=this.props.open;return r.a.createElement(K.a,{open:s},r.a.createElement(X.a,null,"ADD PRODUCT"),r.a.createElement(Q.a,null,r.a.createElement(Z.a,{fullWidth:!0,placeholder:"Item name",className:"text-field",value:t,onChange:i("name")}),r.a.createElement(Z.a,{fullWidth:!0,placeholder:"Price",className:"text-field",value:a,onChange:i("price"),type:"number"}),r.a.createElement("div",{style:{aspectRatio:"1",border:"1px #ccc solid"}},r.a.createElement("img",{src:n,style:{width:"100%",height:"100%"}})),r.a.createElement("input",{placeholder:"Picture",className:"text-field",onChange:c,type:"file",accept:"image/*"})),r.a.createElement($.a,null,r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:l},"ADD"),r.a.createElement(k.a,{color:"primary",onClick:this.props.close},"CLOSE")))}}],[{key:"getDataURL",value:function(e){var t=new FileReader;return new Promise((function(a){t.onload=function(){a(t.result)},t.readAsDataURL(e)}))}}]),a}(b);function je(){var e=window.innerHeight+"px";document.documentElement.style.setProperty("--window-height",e)}window.addEventListener("resize",je),je();var Ce=function(){return r.a.createElement(ue.a,{store:T},r.a.createElement(l.a,null,r.a.createElement(J,null),r.a.createElement(q,null),r.a.createElement(ae,null),r.a.createElement(me,null),r.a.createElement(s.a,{exact:!0,path:"/",component:fe}),r.a.createElement(s.a,{exact:!0,path:"/signup",component:Ee}),r.a.createElement(s.a,{exact:!0,path:"/outlets/register",component:ge}),r.a.createElement(s.a,{exact:!0,path:"/outlets",component:Oe}),r.a.createElement(s.a,{exact:!0,path:"/outlets/:id",component:xe})))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ce,null)),document.getElementById("root"))}},[[124,1,2]]]);
//# sourceMappingURL=main.5ed2bc5b.chunk.js.map