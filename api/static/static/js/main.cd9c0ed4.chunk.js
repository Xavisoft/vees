(this["webpackJsonpvees-ui"]=this["webpackJsonpvees-ui"]||[]).push([[0],{136:function(e,t,a){e.exports=a(181)},141:function(e,t,a){},165:function(e,t,a){"use strict";var n=a(166);function r(e){window.localStorage.setItem(n.HEADER_NAME,e||"")}function i(e){var t=window.localStorage.getItem(n.HEADER_NAME);return e.headers[n.HEADER_NAME]=t,e}function c(e){return r(e.headers[n.HEADER_NAME]),e}function s(e){throw r(e.response.headers[n.HEADER_NAME]),e}e.exports=function(e){var t=e.axios;try{t.interceptors.request.use(i),t.interceptors.response.use(c,s)}catch(a){throw a}}},166:function(e,t){e.exports={HEADER_NAME:"openstack-xavisoft-auth-token"}},181:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(16),c=a.n(i),s=a(21),o=a(17),l=(a(141),a(4)),u=a.n(l),p=a(9),d=a(10),m=a(12),h=a(11),f=a(7),v=a(14),b=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"_updateState",value:function(){var e=Object(f.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(v.a)(Object(v.a)({},this.state||{}),t),e.next=3,this.setState(a);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeHandlerGenerator",value:function(e){return function(e){var t;t="object"==typeof e?e.target.value:e;var a=(this.componentInstance.state||{}).values||{};a[this.name]=t,this.componentInstance._updateState({values:a})}.bind({componentInstance:this,name:e})}},{key:"render",value:function(){return r.a.createElement("p",null,"Please implement ",r.a.createElement("code",null,"render()"))}}]),a}(r.a.Component),E=a(225),y=a(226),k=a(109),O=a.n(k),g=a(227),x=a(241),w=a(228),j=a(229),C=a(239),S=a(106),I=a(56),_={cart:[],cartMap:new Map,cartOpen:!1},A=Object(S.a)((function(e,t){var a=t.type,n=t.payload,r=e.cart,i=e.cartMap;switch(a){case"ADD_ITEM_TO_CART":var c=n.item,s=n.quantity,o=void 0===s?1:s,l=c.id;if(i.get(l))for(var u in r){var p=r[u];if(p.id===l){var d=p.quantity+o;d>0&&(p.quantity=d)}}else{var m={quantity:o,id:l,item:c};r.push(m),i.set(l,m)}return Object(v.a)(Object(v.a)({},e),{},{cartMap:i,cart:Object(I.a)(r)});case"OPEN_CART":return Object(v.a)(Object(v.a)({},e),{},{cartOpen:!0});case"CLOSE_CART":return Object(v.a)(Object(v.a)({},e),{},{cartOpen:!1});case"EMPTY_CART":return Object(v.a)(Object(v.a)({},e),{},{cart:[],cartMap:new Map});case"REMOVE_ITEM_FROM_CART":var h=n.id;return r=r.filter((function(e){return e.id!==h})),Object(v.a)(Object(v.a)({},e),{},{cartMap:i,cart:r});default:return e}}),_);var T,M={addItemToCart:function(e,t){var a={type:"ADD_ITEM_TO_CART",payload:{item:e,quantity:t}};A.dispatch(a)},openCart:function(){A.dispatch({type:"OPEN_CART"})},closeCart:function(){A.dispatch({type:"CLOSE_CART"})},emptyCart:function(){A.dispatch({type:"EMPTY_CART"})},removeItemFromCart:function(e){A.dispatch({type:"REMOVE_ITEM_FROM_CART",payload:{id:e}})}},D=a(70),N=a(61),P=a(221),R={justifyContent:"center",alignItems:"center",position:"fixed",left:0,top:0,right:0,bottom:0,background:"white",zIndex:2e3},q=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={display:"none"},T?Object(D.a)(n,T):(T=Object(N.a)(n),n)}return Object(d.a)(a,[{key:"hide",value:function(){this._updateState({display:"none"})}},{key:"show",value:function(){this._updateState({display:"flex"})}},{key:"render",value:function(){var e=this.state.display;return r.a.createElement("div",{style:Object(v.a)(Object(v.a)({},R),{},{display:e})},r.a.createElement(P.a,{variant:"indeterminate",id:"div-loading-indicator"}))}}]),a}(b);function W(){try{T.hide()}catch(e){}}var L=a(147),z=a(165);function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log(e);var t=e.response,a=void 0===t?{}:t,n=a.data,r=void 0===n?"":n;return r.toString()||a.statusText||e.toString()||"Something went wrong!!"}L.interceptors.request.use((function(e){return e.background||function(){try{T.show()}catch(e){}}(),e})),0===window.location.href.indexOf("file://")&&L.interceptors.request.use((function(e){return e.url="http://137.184.37.111:8080"+e.url,e})),L.interceptors.response.use((function(e){return W(),e}),(function(e){throw W(),e})),z({axios:L});var U=L,H={display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%"};function B(){var e=document.getElementById("navbar");if(e){var t=e.offsetHeight+"px";document.documentElement.style.setProperty("--navbar-height",t)}}function V(){return G.apply(this,arguments)}function G(){return(G=Object(f.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.delete("/api/login-credentials");case 3:window.Vees.redirect("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(F(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var Y=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={drawerOpened:!1},e}return Object(d.a)(a,[{key:"openDrawer",value:function(){this._updateState({drawerOpened:!0})}},{key:"closeDrawer",value:function(){this._updateState({drawerOpened:!1})}},{key:"componentDidMount",value:function(){this.resizeObserver=new ResizeObserver(B),B()}},{key:"componentWillUnmount",value:function(){this.resizeObserver.disconnect()}},{key:"render",value:function(){var e=[{caption:"Login",route:"/"},{caption:"Register Outlet",route:"/outlets/register"},{caption:"Create Account",route:"/signup"},{caption:"Outlets",route:"/outlets"},{caption:"My Orders",route:"/my-orders"},{caption:"cart",onClick:M.openCart},{caption:"logout",onClick:V}],t=this.state.drawerOpened,a=this.openDrawer.bind(this),n=this.closeDrawer.bind(this),i=this.props.classes;return r.a.createElement(E.a,{id:"navbar"},r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0,xs:9},r.a.createElement("div",{style:H},r.a.createElement("h2",{style:{textAlign:"center"}},"CLICK TO EAT"))),r.a.createElement(y.a,{item:!0,xs:3},r.a.createElement("div",{style:H},r.a.createElement(g.a,{variant:"text",fullWidth:!0,style:{background:"transparent",color:"white"},onClick:a},r.a.createElement(O.a,null))))),r.a.createElement(x.a,{variant:"persistant",open:t,onClick:n,className:i.drawer},r.a.createElement(w.a,null,r.a.createElement(j.a,{style:{borderBottom:"1px solid grey"}},r.a.createElement("h2",null,"CLICK TO EAT")),e.map((function(e){var t=e.caption,a=e.route,n=e.onClick;return r.a.createElement(j.a,null,r.a.createElement(s.b,{to:a,onClick:n},t))})))))}}]),a}(b),K=Object(C.a)((function(e){return{drawer:{"& a":{textTransform:"uppercase",color:"blue",fontFamily:"Arial",fontWeight:"600",textDecoration:"none",fontSize:20}}}}))(Y),X=a(230),J=a(231),$=a(232),Q=a(233),Z=a(240),ee=a(66),te=a.n(ee),ae=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={values:{},selectedItems:[]},e}return Object(d.a)(a,[{key:"update",value:function(){var e=Object(f.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=this.state.selectedItems||[]).length){e.next=3;break}return e.abrupt("return",alert("Please enter some data"));case 3:return e.prev=3,a=this.props.outletID,n="/api/outlets/".concat(a,"/stock"),e.next=8,U.post(n,t);case 8:return e.next=10,this.props.close();case 10:return e.next=12,this.props.updateStock(t);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),alert(F(e.t0));case 17:case"end":return e.stop()}}),e,this,[[3,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"addItemToList",value:function(){var e,t=this.state.values,a=t.itemID,n=t.quantity,r=this.props.items;if(!a)return alert("Select item.");if(!n)return alert("Add quantity.");for(var i in r)if(r[i].id.toString()===a.toString()){e=r[i];break}if(e){var c,s=this.state.selectedItems;for(var o in s)if(s[o].id===a){c=s[o];break}c?c.quantity+=parseInt(n):s.push({id:a,quantity:parseInt(n),name:e.name});this._updateState({selectedItems:s,values:{itemID:"",quantity:""}})}}},{key:"render",value:function(){var e=this.state.values,t=e.itemID,a=e.quantity,n=this.props,i=n.open,c=n.items,s=void 0===c?[]:c,o=this.onChangeHandlerGenerator.bind(this),l=this.addItemToList.bind(this),u=this.update.bind(this);return r.a.createElement(X.a,{open:i},r.a.createElement(J.a,null,"UPDATE STOCK"),r.a.createElement($.a,null,r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:6},r.a.createElement("select",{id:"sel-menu-item",value:t||"",onChange:o("itemID"),style:{width:"100%",borderStyle:"none none solid none",padding:"10px 0",background:"transparent"}},r.a.createElement("option",{value:"",disabled:!0},"Select Item"),s.map((function(e){return r.a.createElement("option",{value:e.id},e.name)})))),r.a.createElement(y.a,{item:!0,xs:4},r.a.createElement(Z.a,{id:"txt-quantity",placeholder:"Qty",fullWidth:!0,value:a||"",onChange:o("quantity")})),r.a.createElement(y.a,{item:!0,xs:2},r.a.createElement(g.a,{color:"primary",fullWidth:!0,onClick:l},r.a.createElement(te.a,null)))),r.a.createElement("hr",null),this.state.selectedItems.map((function(e){return r.a.createElement("div",null,e.quantity," ",r.a.createElement("strong",null,r.a.createElement("bigger",null,"X"))," ",e.name)}))),r.a.createElement(Q.a,null,r.a.createElement(g.a,{onClick:u},"UPDATE"),r.a.createElement(g.a,{onClick:this.props.close},"CLOSE")))}}]),a}(b),ne=a(234),re=a(113),ie=a.n(re),ce=a(85),se=a.n(ce),oe=a(68),le=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"getItemByEventTarget",value:function(e){var t,a=e.currentTarget.getAttribute("data-item-id"),n=this.props.cart;for(var r in n)if(n[r].id.toString()===a){t=n[r];break}return t}},{key:"increment",value:function(e){var t=this.getItemByEventTarget(e);M.addItemToCart(t,1)}},{key:"decrement",value:function(e){var t=this.getItemByEventTarget(e);M.addItemToCart(t,-1)}},{key:"remove",value:function(e){var t=e.currentTarget.getAttribute("data-item-id");M.removeItemFromCart(parseInt(t))}},{key:"placeOrder",value:function(){var e=Object(f.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=this.props.cart).length){e.next=3;break}return e.abrupt("return",alert("Your cart is empty"));case 3:return e.prev=3,e.next=6,U.post("/api/orders/",t);case 6:a=e.sent,n=a.data.id,window.Vees.redirect("/orders/".concat(n)),M.closeCart(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),alert(F(e.t0));case 15:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this.props,a=t.cart,n=t.open;0===a.length&&(e=r.a.createElement(ne.a,{style:{padding:"20px"}},"Your cart is empty."));var i=this.increment.bind(this),c=this.decrement.bind(this),s=this.remove.bind(this),o=this.placeOrder.bind(this);return r.a.createElement(X.a,{open:n},r.a.createElement(J.a,null,"CART"),e||r.a.createElement($.a,null,a.map((function(e){var t=e.quantity,a=e.item,n=a.name,o=a.id;return r.a.createElement("p",{style:{borderBottom:"1px solid grey",fontFamily:"Arial",padding:"10px 0"}},t," X ",n,r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement(ue,{icon:r.a.createElement(ie.a,{size:"small"}),color:"blue",onClick:c,"data-item-id":o}),r.a.createElement(ue,{icon:r.a.createElement(te.a,{size:"small"}),color:"blue",onClick:i,"data-item-id":o}),r.a.createElement(ue,{icon:r.a.createElement(se.a,{size:"small"}),color:"red",onClick:s,"data-item-id":o})))}))),r.a.createElement(Q.a,null,r.a.createElement(g.a,{onClick:o},"PLACE ORDER"),r.a.createElement(g.a,{onClick:M.emptyCart},"EMPTY CART"),r.a.createElement(g.a,{onClick:M.closeCart},"CLOSE")))}}]),a}(b),ue=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.icon,a=e.onClick,n=e.color;return r.a.createElement(g.a,{onClick:a,style:{color:n},color:"primary","data-item-id":this.props["data-item-id"]},t)}}]),a}(b);var pe=Object(oe.b)((function(e){return{cart:e.cart,open:e.cartOpen,cartMap:e.cartMap}}))(le),de=a(114),me=a.n(de),he=a(115),fe=a.n(he),ve={position:"fixed",color:"white",background:"#f50057",left:0,right:0,bottom:0,padding:"10px"};function be(){window.Vees.history.goBack()}var Ee=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=document.getElementById("footer").offsetHeight+"px";document.documentElement.style.setProperty("--footer-height",e)}},{key:"render",value:function(){return r.a.createElement(y.a,{container:!0,id:"footer",style:ve},r.a.createElement(y.a,{item:!0,xs:6},r.a.createElement(g.a,{fullWidth:!0,style:{color:"white"},onClick:be},r.a.createElement(me.a,null))),r.a.createElement(y.a,{item:!0,xs:6},r.a.createElement(g.a,{fullWidth:!0,style:{color:"white"},onClick:window.quitApp},r.a.createElement(fe.a,null))))}}]),a}(b),ye=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;if(Object(p.a)(this,a),n=t.call(this,e),void 0===window.Netro){window.Vees={},window.Vees.history=e.history;var r=function(e){window.Vees.history.push(e)};window.Vees.redirect=r,a.redirect=r}return n}return Object(d.a)(a,[{key:"_componentDidMount",value:function(){}},{key:"componentDidMount",value:function(){var e=Object(f.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._componentDidMount();case 2:window.scrollTo(0,0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_render",value:function(){return r.a.createElement("h1",null,"Please implement ",r.a.createElement("code",null,"_render()"))}},{key:"render",value:function(){return r.a.createElement("div",{className:"page"},this._render())}}]),a}(b),ke=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={values:{}},e}return Object(d.a)(a,[{key:"login",value:function(){var e=Object(f.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.values,a=t.email,n=t.password,a){e.next=3;break}return e.abrupt("return",alert("Email is required"));case 3:if(n){e.next=5;break}return e.abrupt("return",alert("Password is required"));case 5:return r={username:a,password:n},e.prev=6,e.next=9,U.post("/api/login-credentials",r);case 9:ye.redirect("/outlets"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),alert(F(e.t0));case 15:case"end":return e.stop()}}),e,this,[[6,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"_render",value:function(){var e=this.state.values,t=e.email,a=e.password,n=this.onChangeHandlerGenerator.bind(this),i=this.login.bind(this);return r.a.createElement("div",{className:this.props.classes.root},r.a.createElement("h1",{className:"center-align",style:{margin:"100px 0",fontSize:50,fontFamily:"Arial"}},"WELCOME TO",r.a.createElement("br",null),"VEE'S",r.a.createElement("br",null),"CLICK TO EAT"),r.a.createElement(Z.a,{fullWidth:!0,size:"large",id:"txt-email",placeholder:"Email",value:t,onChange:n("email"),className:"text-field"}),r.a.createElement(Z.a,{fullWidth:!0,size:"large",id:"txt-password",placeholder:"Password",type:"password",value:a,onChange:n("password"),className:"text-field"}),r.a.createElement(g.a,{fullWidth:!0,variant:"contained",size:"large",color:"primary",onClick:i},"LOGIN"),r.a.createElement("span",{className:"center-align"},"Don't have an account? ",r.a.createElement(s.b,{to:"/signup"},"Sign up")))}}]),a}(ye),Oe=Object(C.a)((function(e){return{root:{"& .text-field":{marginBottom:"30px"},margin:"20px","& span.center-align":{display:"block",marginTop:"10px",color:"#333",fontSize:20}}}}))(ke),ge=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={values:{}},e}return Object(d.a)(a,[{key:"submit",value:function(){var e=Object(f.a)(u.a.mark((function e(){var t,a,n,r,i,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.values,a=t.name,n=t.email,r=t.password,i=t.confirm_password,c=t.location,a){e.next=3;break}return e.abrupt("return",alert("Provide name"));case 3:if(n){e.next=5;break}return e.abrupt("return",alert("Provide email"));case 5:if(r){e.next=7;break}return e.abrupt("return",alert("Provide password"));case 7:if(i){e.next=9;break}return e.abrupt("return",alert("Confirm password"));case 9:if(r===i){e.next=11;break}return e.abrupt("return",alert("Password mismatch"));case 11:if(c){e.next=13;break}return e.abrupt("return",alert("Provide location"));case 13:return s={name:a,email:n,password:r,location:c},e.prev=14,e.next=17,U.post("/api/users",s);case 17:alert("Account created successfully, you will be redirected to sign in."),window.Vees.redirect("/"),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(14),alert(F(e.t0));case 24:case"end":return e.stop()}}),e,this,[[14,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"_render",value:function(){var e=this.state.values,t=e.name,a=e.email,n=e.password,i=e.confirm_password,c=e.location,o=this.onChangeHandlerGenerator.bind(this),l=this.submit.bind(this);return r.a.createElement("div",{className:this.props.classes.root},r.a.createElement("h1",{style:{padding:"40px 0"}},"CREATE ACCOUNT"),r.a.createElement(Z.a,{fullWidth:!0,size:"large",id:"txt-name",placeholder:"Name",value:t,onChange:o("name"),className:"text-field"}),r.a.createElement(Z.a,{fullWidth:!0,size:"large",id:"txt-email",placeholder:"Email",value:a,onChange:o("email"),className:"text-field"}),r.a.createElement(Z.a,{fullWidth:!0,size:"large",id:"txt-password",type:"password",placeholder:"Password",value:n,onChange:o("password"),className:"text-field"}),r.a.createElement(Z.a,{fullWidth:!0,size:"large",id:"txt-confirm",type:"password",placeholder:"Confirm password",value:i,onChange:o("confirm_password"),className:"text-field"}),r.a.createElement(Z.a,{fullWidth:!0,size:"large",id:"txt-location",placeholder:"Location",value:c,onChange:o("location"),className:"text-field"}),r.a.createElement(g.a,{fullWidth:!0,variant:"contained",size:"large",color:"primary",onClick:l},"CREATE ACCOUNT"),r.a.createElement("span",{className:"center-align"},"Already have an account? ",r.a.createElement(s.b,{to:"/"},"Sign in")))}}]),a}(ye),xe=Object(C.a)((function(e){return{root:{"& .text-field":{marginBottom:"30px"},margin:"20px","& span.center-align":{display:"block",marginTop:"10px",color:"#333",fontSize:20}}}}))(ge),we=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={values:{}},e}return Object(d.a)(a,[{key:"submit",value:function(){var e=Object(f.a)(u.a.mark((function e(){var t,a,n,r,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.values,a=t.name,n=t.location,a){e.next=3;break}return e.abrupt("return",alert("Name is required"));case 3:if(n){e.next=5;break}return e.abrupt("return",alert("Location is required"));case 5:return r={name:a,location:n},e.prev=6,e.next=9,U.post("/api/outlets",r);case 9:i=e.sent,c=i.data.id,ye.redirect("/outlets/".concat(c)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),alert(F(e.t0));case 17:case"end":return e.stop()}}),e,this,[[6,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"_render",value:function(){var e=this.onChangeHandlerGenerator.bind(this),t=this.submit.bind(this),a=this.state.values,n=a.name,i=a.location,c=this.props.classes;return r.a.createElement("div",{style:{margin:"100px 20px"},className:c.root},r.a.createElement("h1",{className:"center-align"},"Register Outlet"),r.a.createElement(Z.a,{placeholder:"Outlet name",onChange:e("name"),value:n,className:"text-field",fullWidth:!0}),r.a.createElement(Z.a,{placeholder:"Location",onChange:e("location"),value:i,className:"text-field",fullWidth:!0}),r.a.createElement(g.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:t},"REGISTER"))}}]),a}(ye),je=Object(C.a)((function(e){return{root:{"& .text-field":{marginBottom:"30px"}}}}))(we),Ce=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={outlets:[],fetched:!1},e}return Object(d.a)(a,[{key:"fetchOutlets",value:function(){var e=Object(f.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.get("/api/outlets");case 3:return t=e.sent,a=t.data,e.next=7,this._updateState({outlets:a,fetched:!0});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert(F(e.t0));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"_componentDidMount",value:function(){this.fetchOutlets()}},{key:"_render",value:function(){var e,t,a=this.state,n=a.outlets,i=a.fetched,c=this.fetchOutlets.bind(this),o={display:"flex",justifyContent:"center",alignItems:"center",height:"calc(var(--window-height) - var(--navbar-height))"};return i?0===n.length&&(e=r.a.createElement("div",{style:o},r.a.createElement("h3",null,"No outlets yet."))):t=r.a.createElement("div",{style:o},r.a.createElement("h3",null,"Fetching data failed."),r.a.createElement(g.a,{color:"primary",variant:"contained",onClick:c},"retry")),t||e||r.a.createElement("div",{style:{margin:"20px"}},r.a.createElement("h1",{className:"center-align"},"Available Outlets"),n.map((function(e){var t=e.id,a=e.name,n=e.location;return r.a.createElement("div",{style:{borderBottom:"1px solid grey",paddingBottom:"20px"}},r.a.createElement("h2",null,a),r.a.createElement("h3",{style:{color:"grey"}},n),r.a.createElement(g.a,{variant:"contained",color:"primary",component:s.b,to:"/outlets/".concat(t)},"CHECK US OUT"))})))}}]),a}(ye);var Se=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"editItem",value:function(){this.props.edit(this.props.data.id)}},{key:"deleteItem",value:function(){this.props.delete(this.props.data.id)}},{key:"addToCart",value:function(){var e=this.props.data;M.addItemToCart(e,1)}},{key:"render",value:function(){var e=this.props.data,t=e.picture,a=e.name,n=e.price,i=void 0===n?0:n,c=e.number_in_stock,s=void 0===c?0:c,o=this.props.isOwner,l=this.deleteItem.bind(this),u=this.editItem.bind(this),p=this.addToCart.bind(this);return r.a.createElement(y.a,{container:!0,style:{paddingBottom:0,borderBottom:"1px solid grey"}},r.a.createElement(y.a,{item:!0,xs:5},r.a.createElement("img",{src:t,style:{width:"100%",aspectRatio:"1"},alt:a})),r.a.createElement(y.a,{item:!0,xs:7,style:{padding:12}},r.a.createElement("h5",null,a),r.a.createElement("h3",null,"$",function(e){return(e=parseFloat(e)).toFixed(2)}(i)),r.a.createElement("span",null,"Items In Stock: ",r.a.createElement("span",{style:{color:"green"}},s)),o?r.a.createElement("div",null,r.a.createElement(g.a,{style:{color:"red"},onClick:l},"delete"),r.a.createElement(g.a,{color:"primary",onClick:u},"edit")):r.a.createElement(g.a,{size:"small",color:"secondary",variant:"contained",onClick:p},"ADD TO CART")))}}]),a}(b),Ie=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={addItemModalOpen:!1,updateStockModalOpen:!1,items:[],itemModalMode:"add"},e}return Object(d.a)(a,[{key:"deleteItem",value:function(){var e=Object(f.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.match.params.id,n="/api/outlets/".concat(a,"/items/").concat(t),e.prev=2,e.next=5,U.delete(n);case 5:return r=this.state.items.filter((function(e){return e.id!==t})),e.next=8,this._updateState({items:r});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),alert(F(e.t0));case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"editItem",value:function(){var e=Object(f.a)(u.a.mark((function e(t){var a,n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="edit",e.t0=u.a.keys(this.state.items);case 2:if((e.t1=e.t0()).done){e.next=10;break}if(r=e.t1.value,(i=this.state.items[r]).id.toString()!==t.toString()){e.next=8;break}return a=i,e.abrupt("break",10);case 8:e.next=2;break;case 10:if(!a){e.next=15;break}return e.next=13,this._updateState({itemToBeEdited:a,itemModalMode:n});case 13:return e.next=15,this.openItemModal();case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateStock",value:function(){var e=Object(f.a)(u.a.mark((function e(t){var a,n,r,i,c,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in a=new Map,n=this.state.items.map((function(e){return a.set(e.id.toString(),e),e})),t)i=t[r],c=i.id,s=i.quantity,(o=a.get(c.toString()))&&(console.log({quantity:s,number_in_stock:o.number_in_stock}),o.number_in_stock+=s);return e.next=5,this._updateState({items:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"closeItemModal",value:function(){var e=Object(f.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._updateState({addItemModalOpen:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"openItemModal",value:function(){var e=Object(f.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._updateState({addItemModalOpen:!0});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"openUpdateStockModal",value:function(){var e=Object(f.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._updateState({updateStockModalOpen:!0});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"closeUpdateStockModal",value:function(){var e=Object(f.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._updateState({updateStockModalOpen:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=Object(f.a)(u.a.mark((function e(){var t,a,n,r,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.id,e.next=4,U.get("/api/outlets/".concat(t));case 4:return a=e.sent,n=a.data,r=n.items,i=n.name,c=n.isOwner,e.next=8,this._updateState({items:r,name:i,isOwner:c,dataFetched:!0});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(F(e.t0));case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"addItem",value:function(){var e=Object(f.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=this.state.items).push(t),e.next=4,this._updateState({items:a});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateItem",value:function(){var e=Object(f.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.items.map((function(e){if(e.id.toString()===t.toString())for(var n in a)e[n]=a[n];return e})),e.next=3,this._updateState({items:n});case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"_componentDidMount",value:function(){this.fetchData()}},{key:"_render",value:function(){var e,t,a=this.state,n=a.items,i=a.dataFetched,c=a.isOwner,o=a.name,l=a.addItemModalOpen,u=a.updateStockModalOpen,p=a.itemModalMode,d=a.itemToBeEdited,m=this.props.match.params.id,h=this.fetchData.bind(this),f=this.openItemModal.bind(this),v=this.closeItemModal.bind(this),b=this.openUpdateStockModal.bind(this),E=this.closeUpdateStockModal.bind(this),y=this.addItem.bind(this),k=this.deleteItem.bind(this),O=this.editItem.bind(this),x=this.updateStock.bind(this),w=this.updateItem.bind(this);if(i)0===n.length&&(t=r.a.createElement("div",null,"No items in this outlet."));else{e=r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"calc(var(--window-height) - var(--navbar-height))"}},r.a.createElement("h2",null,"Failed to fetch data"),r.a.createElement("br",null),r.a.createElement(g.a,{color:"primary",variant:"contained",onClick:h},"retry"))}return e||r.a.createElement("div",null,r.a.createElement("div",{className:"center-align"},r.a.createElement("h1",{style:{margin:0,padding:0}},o),r.a.createElement("h3",{style:{color:"grey",margin:0,padding:0}},"Our Menu")),c?r.a.createElement(r.a.Fragment,null,r.a.createElement(_e,{open:l,close:v,outletID:m,addItem:y,updateItem:w,mode:p,item:d}),r.a.createElement(ae,{open:u,close:E,items:n,outletID:m,updateStock:x}),r.a.createElement(g.a,{color:"primary",onClick:f},"ADD ITEM"),r.a.createElement(g.a,{color:"primary",onClick:b},"UPDATE STOCK"),r.a.createElement(g.a,{color:"primary",component:s.b,to:"/outlets/".concat(m,"/orders")},"VIEW ORDERS")):void 0,t||n.map((function(e){return r.a.createElement(Se,{data:e,isOwner:c,edit:O,delete:k})})))}}]),a}(ye),_e=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={values:{}},e}return Object(d.a)(a,[{key:"submit",value:function(){var e=Object(f.a)(u.a.mark((function e(){var t,a,n,r,i,c,s,o,l,p,d,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.values,a=t.picture,n=t.name,r=t.price,i=this.props.outletID,n){e.next=4;break}return e.abrupt("return",alert("Name is required"));case 4:if(r){e.next=6;break}return e.abrupt("return",alert("Price is required"));case 6:if(a){e.next=8;break}return e.abrupt("return",alert("Picture is required"));case 8:if("edit"!==this.props.mode){e.next=31;break}if(c={},(s=this.props.item).picture!==a&&(c.picture=a),s.price.toString()!==r.toString()&&(c.price=r),s.name!==n&&(c.name=n),0!==Object.keys(c).length){e.next=16;break}return e.abrupt("return",alert("No changes made"));case 16:return o="/api/outlets/".concat(i,"/items/").concat(s.id),e.prev=17,e.next=20,U.patch(o,c);case 20:return e.next=22,this.props.updateItem(s.id,c);case 22:return e.next=24,this.close();case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(17),alert(F(e.t0));case 29:e.next=45;break;case 31:return l={name:n,price:r,picture:a},p="/api/outlets/".concat(i,"/items"),e.prev=33,e.next=36,U.post(p,l);case 36:d=e.sent,m=d.data.id,this.props.addItem(Object(v.a)(Object(v.a)({},l),{},{id:m,number_in_stock:0})),this.close(),e.next=45;break;case 42:e.prev=42,e.t1=e.catch(33),alert(F(e.t1));case 45:case"end":return e.stop()}}),e,this,[[17,26],[33,42]])})));return function(){return e.apply(this,arguments)}}()},{key:"onPictureChange",value:function(){var e=Object(f.a)(u.a.mark((function e(t){var n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,a.getDataURL(n);case 5:return r=e.sent,e.next=8,a.pictureDataToPng(r);case 8:return r=e.sent,i=Object(v.a)(Object(v.a)({},this.state.values),{},{picture:r}),e.next=12,this._updateState({values:i});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(f.a)(u.a.mark((function e(t,a){var n,r,i,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==this.props.open||!1!==t.open){e.next=7;break}if("edit"!==this.props.mode){e.next=7;break}return n=this.props.item,r=n.picture,i=n.price,c=n.name,s=this.state.values,s=Object(v.a)(Object(v.a)({},s),{},{picture:r,name:c,price:i}),e.next=7,this._updateState({values:s});case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"close",value:function(){var e=Object(f.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._updateState({values:{picture:"",price:"",name:""}});case 2:return e.next=4,this.props.close();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.values,t=e.name,a=e.price,n=e.picture,i=this.onChangeHandlerGenerator.bind(this),c=this.onPictureChange.bind(this),s=this.submit.bind(this),o=this.props.open;return r.a.createElement(X.a,{open:o},r.a.createElement(J.a,null,"ADD PRODUCT"),r.a.createElement($.a,null,r.a.createElement(Z.a,{fullWidth:!0,placeholder:"Item name",className:"text-field",value:t,onChange:i("name")}),r.a.createElement(Z.a,{fullWidth:!0,placeholder:"Price",className:"text-field",value:a,onChange:i("price"),type:"number"}),r.a.createElement("div",{style:{aspectRatio:"1",border:"1px #ccc solid"}},r.a.createElement("img",{src:n,style:{width:"100%",height:"100%"},id:"img-product"})),r.a.createElement("input",{placeholder:"Picture",className:"text-field",onChange:c,type:"file",accept:"image/*"})),r.a.createElement(Q.a,null,r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:s},"SAVE"),r.a.createElement(g.a,{color:"primary",onClick:this.close.bind(this)},"CLOSE")))}}],[{key:"getDataURL",value:function(e){var t=new FileReader;return new Promise((function(a){t.onload=function(){a(t.result)},t.readAsDataURL(e)}))}},{key:"pictureDataToPng",value:function(e){var t=document.createElement("canvas"),a=document.createElement("img"),n=t.getContext("2d");return new Promise((function(r){a.onload=function(){var e=a.naturalHeight,i=a.naturalWidth;t.width=i,t.height=e,n.drawImage(a,0,0,i,e,0,0,i,e),r(t.toDataURL())},a.src=e}))}}]),a}(b),Ae=a(235),Te=a(236),Me=a(237),De=a(238),Ne=a(116),Pe={display:"flex",alignItems:"center",justifyContent:"center",height:"calc(var(--window-height) - var(--navbar-height))"},Re=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(d.a)(a,[{key:"fetchData",value:function(){var e=Object(f.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.prev=1,e.next=4,U.get("/api/orders/".concat(t));case 4:return a=e.sent,n=a.data,e.next=8,this._updateState(Object(v.a)(Object(v.a)({},n),{},{dataFetched:!0}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),alert(F(e.t0));case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"openPhoneNumberModal",value:function(){var e=Object(f.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._updateState({phoneNumberModalOpen:!0});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"closePhoneNumberModal",value:function(){var e=Object(f.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._updateState({phoneNumberModalOpen:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateStatusAfterSuccessfulPayment",value:function(){var e=Object(f.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._updateState({status:"paid"});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_componentDidMount",value:function(){this.fetchData()}},{key:"_render",value:function(){var e=this.props.match.params.id,t=this.state,a=t.items,n=t.total,i=t.time,c=t.status,s=t.phoneNumberModalOpen,o=this.fetchData.bind(this),l=this.openPhoneNumberModal.bind(this),u=this.closePhoneNumberModal.bind(this),p=this.updateStatusAfterSuccessfulPayment.bind(this);return(this.state.dataFetched?void 0:r.a.createElement("div",{style:Pe},r.a.createElement(g.a,{onClick:o,color:"primary"},"RETRY")))||r.a.createElement("div",null,r.a.createElement(qe,{open:s,close:u,orderID:e,updateStatus:p}),r.a.createElement("h1",null,"Order #",e),r.a.createElement(Ae.a,null,r.a.createElement(Te.a,null,r.a.createElement(Me.a,null,r.a.createElement(De.a,null),r.a.createElement(De.a,null)),r.a.createElement(Me.a,null,r.a.createElement(De.a,null,"ITEMS"),a.map((function(e){return r.a.createElement("p",{style:{margin:0,padding:"10px"}},e.quantity," ",r.a.createElement("b",null,"X")," ",e.name)})),r.a.createElement(De.a,null)),r.a.createElement(Me.a,null,r.a.createElement(De.a,null,"TOTAL"),r.a.createElement(De.a,null,"$",n.toFixed(2))),r.a.createElement(Me.a,null,r.a.createElement(De.a,null,"STATUS"),r.a.createElement(De.a,{style:{textTransform:"uppercase"}},r.a.createElement("code",null,c))),r.a.createElement(Me.a,null,r.a.createElement(De.a,null,"CREATED"),r.a.createElement(De.a,null,r.a.createElement(Ne.a,{date:i}))))),"not_paid"===c?r.a.createElement(g.a,{variant:"contained",size:"large",color:"primary",onClick:l,fullWidth:!0},"PAY"):void 0)}}]),a}(ye),qe=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={values:{}},e}return Object(d.a)(a,[{key:"pay",value:function(){var e=Object(f.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.values.phone){e.next=3;break}return e.abrupt("return",alert("Phone number is required."));case 3:return a=this.props.orderID,n={phone:t},e.prev=5,e.next=8,U.post("/api/orders/".concat(a,"/mobile-money"),n);case 8:r=e.sent,r.data.status,alert("Payment Successful"),this.props.updateStatus(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),alert(F(e.t0));case 17:case"end":return e.stop()}}),e,this,[[5,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.onChangeHandlerGenerator.bind(this),t=this.pay.bind(this),a=this.state.values.phone,n=this.props.open;return r.a.createElement(X.a,{open:n},r.a.createElement(J.a,null,"ECOCASH/ONEMONEY"),r.a.createElement($.a,null,r.a.createElement(Z.a,{placeholder:"Phone number",value:a,onChange:e("phone")})),r.a.createElement(Q.a,null,r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:t},"PAY"),r.a.createElement(g.a,{variant:"text",color:"primary",onClick:this.props.close},"close")))}}]),a}(b),We=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={orders:[]},e}return Object(d.a)(a,[{key:"fetchData",value:function(){var e=Object(f.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.get("/api/orders/personal");case 3:t=e.sent,a=t.data,this._updateState({orders:a,dataFetched:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(F(e.t0));case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"_componentDidMount",value:function(){this.fetchData()}},{key:"_render",value:function(){var e=this.state,t=e.orders,a=e.dataFetched;this.fetchData.bind(this);return(a?void 0:r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.fetchData.bind(this)},"retry")))||r.a.createElement("div",null,r.a.createElement("h1",null,"My Orders "),t.map((function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,"Order #",e.id),r.a.createElement("h5",{style:{color:"grey"}},e.status.toUpperCase()),r.a.createElement(g.a,{component:s.b,to:"orders/".concat(e.id)},"view"))})))}}]),a}(ye),Le=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={orders:[]},e}return Object(d.a)(a,[{key:"updateOrderStatus",value:function(){var e=Object(f.a)(u.a.mark((function e(t){var a,n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.currentTarget.getAttribute("data-order-id"),n=t.currentTarget.value,r={status:n},e.prev=3,e.next=6,U.post("/api/orders/".concat(a,"/status"),r);case 6:e.sent,i=this.state.orders.map((function(e){return e.id.toString()===a.toString()&&(e.status=n),Object(v.a)({},e)})),this._updateState({orders:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),alert(F(e.t0));case 14:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=Object(f.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.prev=1,e.next=4,U.get("/api/outlets/".concat(t,"/orders"));case 4:a=e.sent,n=a.data,console.log(n),this._updateState({orders:n,dataFetched:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),alert(F(e.t0));case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"_componentDidMount",value:function(){var e=Object(f.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_render",value:function(){var e=this.state,t=e.orders,a=e.dataFetched,n=this.fetchData.bind(this),i=this.updateOrderStatus.bind(this);return(a?void 0:r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:n},"retry")))||r.a.createElement("div",null,r.a.createElement("h1",null,"Orders"),t.map((function(e){return r.a.createElement("div",null,r.a.createElement("h4",null,"Order #1"),r.a.createElement(Ae.a,null,r.a.createElement(Te.a,null,r.a.createElement(Me.a,null,r.a.createElement(De.a,null),r.a.createElement(De.a,null)),r.a.createElement(Me.a,null,r.a.createElement(De.a,null,"ITEMS"),r.a.createElement(De.a,null,e.items.map((function(e){return r.a.createElement("p",null,e.quantity," ",r.a.createElement("b",null,"X")," ",e.name)})))),r.a.createElement(Me.a,null,r.a.createElement(De.a,null,"STATUS"),r.a.createElement(De.a,null,r.a.createElement("select",{"data-order-id":e.id,style:{width:"100%"},value:e.status,onChange:i},r.a.createElement("option",{value:"not_paid",disabled:!0},"NOT PAID"),r.a.createElement("option",{value:"paid"},"PAID"),r.a.createElement("option",{value:"prepared"},"PREPARED"),r.a.createElement("option",{value:"delivered"},"DELIVERED")))))))})))}}]),a}(ye);function ze(){var e=window.innerHeight+"px";document.documentElement.style.setProperty("--window-height",e)}window.addEventListener("resize",ze),ze();var Fe=function(){return r.a.createElement(oe.a,{store:A},r.a.createElement(s.a,null,r.a.createElement(K,null),r.a.createElement(q,null),r.a.createElement(ae,null),r.a.createElement(pe,null),r.a.createElement(Ee,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:Oe}),r.a.createElement(o.a,{exact:!0,path:"/signup",component:xe}),r.a.createElement(o.a,{exact:!0,path:"/outlets/register",component:je}),r.a.createElement(o.a,{exact:!0,path:"/outlets",component:Ce}),r.a.createElement(o.a,{exact:!0,path:"/outlets/:id",component:Ie}),r.a.createElement(o.a,{exact:!0,path:"/outlets/:id/orders",component:Le}),r.a.createElement(o.a,{exact:!0,path:"/orders/:id",component:Re}),r.a.createElement(o.a,{exact:!0,path:"/my-orders",component:We}))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Fe,null)),document.getElementById("root"))}},[[136,1,2]]]);
//# sourceMappingURL=main.cd9c0ed4.chunk.js.map