{"version":3,"sources":["../../../../modules/auth/frontend.js","../../../../modules/auth/constants.js","components/Component.js","store.js","reducer.js","actions.js","components/Loading.js","request.js","components/Navbar.js","components/StockUpdateModal.js","components/Cart.js","components/Footer.js","pages/Page.js","pages/Home.js","pages/Signup.js","pages/RegisterOutlet.js","pages/Outlets.js","components/Item.js","utils.js","pages/Outlet.js","pages/Order.js","pages/MyOrders.js","pages/OutletOrders.js","App.js","index.js"],"names":["constants","require","writeAuthTokenToLocalStorage","token","window","localStorage","setItem","HEADER_NAME","setAuthTokenHeader","config","getItem","headers","storeAuthTokenHeaderFromResponse","response","storeAuthTokenHeaderFromErrorResponse","error","module","exports","options","axios","interceptors","request","use","err","Component","object","newState","this","state","setState","name","arg","value","target","values","componentInstance","_updateState","bind","React","initialState","cart","cartMap","Map","cartOpen","createStore","action","type","payload","item","quantity","itemID","id","get","i","cartItem","new_quantity","push","set","filter","instance","actions","addItemToCart","store","dispatch","openCart","closeCart","emptyCart","removeItemFromCart","divStyle","justifyContent","alignItems","position","left","top","right","bottom","background","zIndex","LoadingIndicator","props","display","style","variant","hideLoading","hide","auth","getRequestErrorMessage","console","log","data","toString","statusText","show","showLoading","location","href","indexOf","url","align","height","width","setNavbarHeightCSSVar","navbar","document","getElementById","navbarHeight","offsetHeight","documentElement","setProperty","logout","a","delete","Vees","redirect","alert","Navbar","drawerOpened","resizeObserver","ResizeObserver","disconnect","links","caption","route","onClick","openDrawer","closeDrawer","classes","AppBar","Grid","container","xs","textAlign","Button","fullWidth","color","Drawer","open","className","drawer","List","ListItem","borderBottom","map","link","to","withStyles","theme","textTransform","fontFamily","fontWeight","textDecoration","fontSize","StockUpdateModal","selectedItems","length","outletID","post","close","updateStock","items","selectedItem","parseInt","onChangeHandlerGenerator","addItemToList","update","Dialog","DialogTitle","DialogContent","spacing","onChange","borderStyle","padding","disabled","TextField","placeholder","DialogActions","Cart","event","currentTarget","getAttribute","getItemByEventTarget","emptyCartJSX","DialogContentText","increment","decrement","remove","placeOrder","marginTop","icon","size","data-item-id","ItemActionButton","connect","footerStyle","back","history","goBack","Footer","footerHeight","quitApp","Page","undefined","Netro","path","_componentDidMount","scrollTo","_render","Home","email","password","username","login","root","margin","StyledHome","marginBottom","Signup","confirm_password","submit","StyledSignup","RegisterOutlet","Outlets","outlets","fetched","fetchOutlets","noOutletsJSX","notFetchedJSX","noContentDivStyle","outlet","paddingBottom","component","Link","Item","edit","picture","price","number_in_stock","isOwner","deleteItem","editItem","addToCart","src","aspectRatio","alt","parseFloat","toFixed","formatPrice","Outlet","addItemModalOpen","updateStockModalOpen","itemModalMode","match","params","itemToBeEdited","openItemModal","stock","itemsMap","dataFetched","updates","prop","fetchData","dataNotFetchedJSX","noItemsJSX","closeItemModal","openUpdateStockModal","closeUpdateStockModal","addItem","updateItem","Fragment","mode","ItemModal","Object","keys","patch","file","files","getDataURL","pictureDataToPng","prevProps","prevState","onPictureChange","border","accept","reader","FileReader","Promise","resolve","onload","result","readAsDataURL","canvas","createElement","img","ctx","getContext","naturalHeight","naturalWidth","drawImage","toDataURL","divDataNotFetchedStyle","Order","phoneNumberModalOpen","status","total","time","retry","openPhoneNumberModal","closePhoneNumberModal","updateStatusAfterSuccessfulPayment","orderID","updateStatus","Table","TableBody","TableRow","TableCell","date","PhoneNumberModal","phone","pay","MyOrders","orders","order","toUpperCase","OutletOrders","updateOrderStatus","data-order-id","setWinHeightCSSVar","winHeight","innerHeight","addEventListener","App","Loading","exact","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.cd9c0ed4.chunk.js","sourcesContent":["\n'use strict';\n\nconst constants = require('./constants');\n\n\nfunction writeAuthTokenToLocalStorage(token) {\n\twindow.localStorage.setItem(constants.HEADER_NAME, token || '');\n}\n\nfunction readAuthTokenFromLocalStorage() {\n\treturn window.localStorage.getItem(constants.HEADER_NAME);\n}\n\nfunction setAuthTokenHeader(config) {\n\tconst token = readAuthTokenFromLocalStorage();\n\tconfig.headers[constants.HEADER_NAME] = token;\n\treturn config;\n}\n\n\nfunction storeAuthTokenHeaderFromResponse(response) {\n\n\tconst token = response.headers[constants.HEADER_NAME];\n\twriteAuthTokenToLocalStorage(token);\n\treturn response;\n\n}\n\nfunction storeAuthTokenHeaderFromErrorResponse(error) {\n\n\tconst token = error.response.headers[constants.HEADER_NAME];\n\twriteAuthTokenToLocalStorage(token);\n\n\tthrow error;\n\n}\n\n\nfunction init(options) {\n\n\tconst {\n\t\taxios\n\t} = options;\n\n\ttry {\n\n\t\taxios.interceptors.request.use(setAuthTokenHeader);\n\t\taxios.interceptors.response.use(storeAuthTokenHeaderFromResponse, storeAuthTokenHeaderFromErrorResponse);\n\n\t} catch (err) {\n\t\tthrow err;\n\t}\n\n}\n\n\nmodule.exports = init","\nmodule.exports = {\n\tHEADER_NAME: 'openstack-xavisoft-auth-token'\n}","\n\nimport React from 'react';\n\nclass Component extends React.Component {\n\n\tasync _updateState(object) {\n\t\tconst newState = { ...(this.state || {} ), ...object };\n\t\tawait this.setState(newState);\n\t}\n\n\tonChangeHandlerGenerator(name) {\n\n\t\treturn (function(arg) {\n\n\t\t\tlet value;\n\n\t\t\tif (typeof arg == 'object')\n\t\t\t\tvalue = arg.target.value;\n\t\t\telse\n\t\t\t\tvalue = arg;\n\n\t\t\tconst values = (this.componentInstance.state || {} ).values || {};\n\t\t\tvalues[this.name] = value;\n\n\t\t\tthis.componentInstance._updateState({ values });\n\n\t\t}).bind({ componentInstance: this, name });\n\t}\n\n\trender() {\n\t\treturn <p>\n\t\t\tPlease implement <code>render()</code>\n\t\t</p>\n\t}\n}\n\n\nexport default Component;","\n\nimport { createStore } from 'redux';\nimport reducer from './reducer';\n\n\nconst initialState = {\n\tcart: [],\n\tcartMap: new Map(),\n\tcartOpen: false\n}\n\nexport default createStore(reducer, initialState);","\n\n\nexport default function (state, action) {\n\n\tconst { type, payload } = action;\n\n\tlet { cart, cartMap } = state;\n\t\n\tswitch (type) {\n\t\tcase \"ADD_ITEM_TO_CART\":\n\t\t\t\n\t\t\tconst { item, quantity=1 } = payload;\n\t\t\tconst itemID = item.id;\n\n\t\t\tif (cartMap.get(itemID)) {\n\t\t\t\tfor (let i in cart) {\n\n\t\t\t\t\tconst cartItem = cart[i];\n\n\t\t\t\t\tif (cartItem.id === itemID) {\n\t\t\t\t\t\tconst new_quantity = cartItem.quantity + quantity;\n\n\t\t\t\t\t\tif (new_quantity > 0) {\n\t\t\t\t\t\t\tcartItem.quantity = new_quantity;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tconst cartItem = {\n\t\t\t\t\tquantity,\n\t\t\t\t\tid: itemID,\n\t\t\t\t\titem\n\t\t\t\t}\n\n\t\t\t\tcart.push(cartItem)\n\t\t\t\tcartMap.set(itemID, cartItem);\n\t\t\t}\n\n\t\t\treturn { ...state, cartMap, cart: [ ...cart ] };\n\n\t\tcase 'OPEN_CART':\n\t\t\treturn { ...state, cartOpen: true }\n\n\t\tcase 'CLOSE_CART':\n\t\t\treturn { ...state, cartOpen: false }\n\n\t\tcase 'EMPTY_CART':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcart: [],\n\t\t\t\tcartMap: new Map()\n\t\t\t};\n\n\t\tcase 'REMOVE_ITEM_FROM_CART':\n\t\t\tconst { id } = payload;\n\t\t\tcart = cart.filter(cartItem => {\n\t\t\t\treturn cartItem.id !== id;\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcartMap,\n\t\t\t\tcart\n\t\t\t}\n\n\t\t\n\t\tdefault:\n\t\t\treturn state;\n\t\t\t\n\t}\n\t\n}","\n\nimport store from './store';\n\n\nfunction addItemToCart(item, quantity) {\n\tconst payload = { item, quantity };\n\tconst type = 'ADD_ITEM_TO_CART';\n\n\tconst action = { type, payload };\n\tstore.dispatch(action);\n}\n\nfunction openCart() {\n\tstore.dispatch({ type: 'OPEN_CART'})\n}\n\nfunction closeCart() {\n\tstore.dispatch({ type: 'CLOSE_CART'})\n}\n\nfunction emptyCart() {\n\tstore.dispatch({ type: 'EMPTY_CART'})\n}\n\nfunction removeItemFromCart(id) {\n\tstore.dispatch({ type: 'REMOVE_ITEM_FROM_CART', payload: { id}})\n}\n\n\nconst actions = {\n\taddItemToCart,\n\topenCart,\n\tcloseCart,\n\temptyCart,\n\tremoveItemFromCart\n}\n\n\nexport default actions;\n","\nimport React from 'react';\nimport Component from './Component';\nimport Progress from '@material-ui/core/CircularProgress';\n\nlet instance;\n\n// styles\nconst divStyle = {\n\tjustifyContent: 'center',\n\talignItems: 'center',\n\tposition: 'fixed',\n\tleft: 0,\n\ttop: 0,\n\tright: 0,\n\tbottom: 0,\n\tbackground: 'white', //rgba(0, 0, 0, 0.8)',\n\tzIndex: 2000,\n};\n\n\n// component definition\n\nclass LoadingIndicator extends Component {\n\n\tstate = {\n\t\tdisplay: 'none'\n\t}\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tif (instance)\n\t\t\treturn instance;\n\n\t\tinstance = this;\n\n\t}\n\n\thide() {\n\t\tthis._updateState({ display: 'none' });\n\t}\n\n\tshow() {\n\t\tthis._updateState({ display: 'flex' });\n\t}\n\n\trender() {\n\n\t\tconst display = this.state.display;\n\n\t\treturn <div style={{ ...divStyle, display }}>\n\t\t\t<Progress variant=\"indeterminate\" id=\"div-loading-indicator\" />\n\t\t</div>\n\t}\n}\n\nexport default LoadingIndicator;\n\nfunction hideLoading() {\n\ttry {\n\t\tinstance.hide();\n\t} catch(err) {}\n}\n\nfunction showLoading() {\n\ttry {\n\t\tinstance.show();\n\t} catch(err) {}\n}\n\nexport {\n\thideLoading,\n\tshowLoading\n}","\nimport { hideLoading, showLoading } from './components/Loading';\nconst axios = require('axios');\nconst auth  = require('auth/frontend');\n\n// functions\nfunction showLoadingIfResponseIsForeground(config) {\n\t\n\tif (config.background)\n\t\treturn config;\n\n\tshowLoading();\n\treturn config;\n\n}\n\n\nfunction injectDomain(config) {\n\tconfig.url = 'http://137.184.37.111:8080' + config.url;\n\treturn config;\n}\n\nfunction hideLoadingWhenResponseIsReceived(response) {\n\thideLoading();\n\treturn response;\n}\n\nfunction hideLoadingWhenErrorIsReceived(error) {\n\thideLoading();\n\tthrow error;\n}\n\nfunction getRequestErrorMessage(error={}) {\n\tconsole.log(error);\n\tconst { response={} } = error;\n\tconst { data='' } = response;\n\treturn data.toString() || response.statusText || error.toString() || 'Something went wrong!!'\n}\n\nfunction getRequestErrorStatus(error) {\n\tconst { response={} } = error;\n\treturn response.status || -1;\n}\n\naxios.interceptors.request.use(showLoadingIfResponseIsForeground);\n\n// add injectDomain interceptor if compiled\nif (window.location.href.indexOf('file://') === 0)\n\taxios.interceptors.request.use(injectDomain);\n\naxios.interceptors.response.use(hideLoadingWhenResponseIsReceived, hideLoadingWhenErrorIsReceived);\n\nauth({ axios });\n\nexport default axios;\n\nexport {\n\tgetRequestErrorMessage,\n\tgetRequestErrorStatus\n}","\n\nimport React from 'react';\nimport Component from '../components/Component';\nimport AppBar from '@material-ui/core/AppBar';\nimport Grid from '@material-ui/core/Grid';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Button from '@material-ui/core/Button';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport { Link } from 'react-router-dom';\nimport { withStyles } from '@material-ui/styles';\n\nimport actions from '../actions';\nimport request, { getRequestErrorMessage } from '../request';\n\n\n// styles\nconst align = {\n\tdisplay: 'flex',\n\talignItems: 'center',\n\tjustifyContent: 'center',\n\theight: '100%',\n\twidth: '100%'\n};\n\nconst useStyles = theme => ({\n\tdrawer: {\n\t\t'& a': {\n\t\t\ttextTransform: 'uppercase',\n\t\t\tcolor: 'blue',\n\t\t\tfontFamily: 'Arial',\n\t\t\tfontWeight: '600',\n\t\t\ttextDecoration: 'none',\n\t\t\tfontSize: 20\n\t\t}\n\t}\n})\n\n\n// function\nfunction setNavbarHeightCSSVar() {\n\n\tconst navbar = document.getElementById('navbar');\n\n\tif (!navbar) \n\t\treturn;\n\n\tconst navbarHeight = navbar.offsetHeight + 'px';\n\tdocument.documentElement.style.setProperty('--navbar-height', navbarHeight);\n\t\n}\n\nasync function logout() {\n\n\ttry {\n\t\tawait request.delete('/api/login-credentials');\n\t\twindow.Vees.redirect('/');\n\t} catch (err) {\n\t\talert(getRequestErrorMessage(err));\n\t}\n}\n\n\nclass Navbar extends Component {\n\n\n\topenDrawer() {\n\t\tthis._updateState({ drawerOpened: true })\n\t}\n\n\tcloseDrawer() {\n\t\tthis._updateState({ drawerOpened: false });\n\t}\n\n\n\tcomponentDidMount() {\n\t\t// listen to resize\n\t\tthis.resizeObserver = new ResizeObserver(setNavbarHeightCSSVar);\n\t\tsetNavbarHeightCSSVar();\n\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.resizeObserver.disconnect();;\n\t}\n\n\tstate = {\n\t\tdrawerOpened: false\n\t}\n\n\trender() {\n\n\t\tconst links = [\n\t\t\t{\n\t\t\t\tcaption: 'Login',\n\t\t\t\troute: '/'\n\t\t\t},\n\t\t\t{\n\t\t\t\tcaption: 'Register Outlet',\n\t\t\t\troute: '/outlets/register'\n\t\t\t},\n\t\t\t{\n\t\t\t\tcaption: 'Create Account',\n\t\t\t\troute: '/signup',\n\t\t\t},\n\t\t\t{\n\t\t\t\tcaption: 'Outlets',\n\t\t\t\troute: '/outlets',\n\t\t\t},\n\t\t\t{\n\t\t\t\tcaption: 'My Orders',\n\t\t\t\troute: '/my-orders'\n\t\t\t},\n\t\t\t{\n\t\t\t\tcaption: 'cart',\n\t\t\t\tonClick: actions.openCart\n\t\t\t},\n\t\t\t{\n\t\t\t\tcaption: 'logout',\n\t\t\t\tonClick: logout\n\t\t\t}\n\t\t]\n\n\t\tconst { drawerOpened } = this.state;\n\n\t\tconst openDrawer = this.openDrawer.bind(this);\n\t\tconst closeDrawer = this.closeDrawer.bind(this);\n\n\t\tconst { classes } = this.props;\n\n\t\treturn <AppBar id=\"navbar\">\n\t\t\t\n\t\t\t<Grid container>\n\t\t\t\t<Grid item xs={9}>\n\t\t\t\t\t<div style={align}>\n\t\t\t\t\t\t<h2 style={{ textAlign: 'center' }}>CLICK TO EAT</h2>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={3}>\n\n\t\t\t\t\t<div style={align}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"text\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackground: 'transparent',\n\t\t\t\t\t\t\t\tcolor: 'white' \n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonClick={openDrawer}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\n\n\t\t\t<Drawer variant=\"persistant\" open={drawerOpened} onClick={closeDrawer} className={classes.drawer}>\n\t\t\t\t<List>\n\t\t\t\t\t<ListItem style={{ borderBottom: '1px solid grey'}}>\n\t\t\t\t\t\t<h2>CLICK TO EAT</h2>\n\t\t\t\t\t</ListItem>\n\t\t\t\t\t\n\t\t\t\t\t{\n\t\t\t\t\t\tlinks.map(link => {\n\n\t\t\t\t\t\t\tconst { caption, route, onClick } = link;\n\n\t\t\t\t\t\t\treturn <ListItem>\n\t\t\t\t\t\t\t\t<Link to={route} onClick={onClick}>{caption}</Link>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</List>\n\t\t\t</Drawer>\n\n\t\t</AppBar>\n\t}\n}\n\n\nexport default withStyles(useStyles)(Navbar);","\n\nimport React from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Component from './Component';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport ChevronRight from '@material-ui/icons/Add';\n// import MenuItem from '@material-ui/core/MenuItem';\n\nimport request, { getRequestErrorMessage } from '../request';\n\n\nclass StockUpdateModal extends Component {\n\n\n\tasync update() {\n\n\t\tconst data = this.state.selectedItems || []\n\n\t\tif (data.length === 0)\n\t\t\treturn alert('Please enter some data');\n\n\t\ttry {\n\t\t\tconst outletID = this.props.outletID;\n\t\t\tconst url = `/api/outlets/${outletID}/stock`;\n\t\t\tawait request.post(url, data);\n\n\t\t\tawait this.props.close();\n\t\t\tawait this.props.updateStock(data);\n\t\t\t\n\t\t} catch (err) {\n\t\t\talert(getRequestErrorMessage(err))\n\t\t}\n\t}\n\n\taddItemToList() {\n\n\t\tconst { itemID, quantity } = this.state.values;\n\t\tconst { items } = this.props;\n\n\t\tif (!itemID)\n\t\t\treturn alert('Select item.');\n\t\t\n\t\tif (!quantity)\n\t\t\treturn alert('Add quantity.');\n\n\t\t// get item from item list\n\t\tlet item;\n\n\t\tfor (let i in items) {\n\t\t\tif (items[i].id.toString() === itemID.toString()) {\n\t\t\t\titem = items[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (!item)\n\t\t\treturn;\n\n\n\n\n\t\t// update selectedItems\n\t\tconst { selectedItems } = this.state;\n\t\tlet selectedItem;\n\n\t\tfor (let i in selectedItems) {\n\t\t\tif (selectedItems[i].id === itemID) {\n\t\t\t\tselectedItem = selectedItems[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\n\t\tif (selectedItem) {\n\t\t\tselectedItem.quantity += parseInt(quantity);\n\t\t} else {\n\t\t\tselectedItems.push({\n\t\t\t\tid: itemID,\n\t\t\t\tquantity: parseInt(quantity),\n\t\t\t\tname: item.name\n\t\t\t});\n\t\t}\n\n\t\tconst  values = { itemID: '', quantity: '' };\n\t\tthis._updateState({ selectedItems, values });\n\t\t// document.getElementById('sel-menu-item').parentNode.querySelector('input').previousSibling.innerHTML = ''; // very hacky\n\n\t}\n\n\tstate = {\n\t\tvalues: {},\n\t\tselectedItems: []\n\t}\n\n\trender() {\n\n\t\tconst { itemID, quantity } = this.state.values;\n\t\tconst { open, items=[] } = this.props; \n\n\t\tconst onChangeHandlerGenerator = this.onChangeHandlerGenerator.bind(this);\n\t\tconst addItemToList = this.addItemToList.bind(this);\n\t\tconst update = this.update.bind(this);\n\n\t\treturn <Dialog open={open}>\n\n\t\t\t<DialogTitle>UPDATE STOCK</DialogTitle>\n\n\t\t\t<DialogContent>\n\n\n\t\t\t\t<Grid container spacing={3}>\n\n\t\t\t\t\t<Grid item xs={6}>\n\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tid=\"sel-menu-item\"\n\t\t\t\t\t\t\tvalue={itemID || ''}\n\t\t\t\t\t\t\tonChange={onChangeHandlerGenerator('itemID')}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\tborderStyle: 'none none solid none',\n\t\t\t\t\t\t\t\tpadding: '10px 0',\n\t\t\t\t\t\t\t\tbackground: 'transparent'\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\" disabled>Select Item</option>\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\titems.map(item => {\n\t\t\t\t\t\t\t\t\treturn <option value={item.id}>{item.name}</option>\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</select>\n\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tid=\"txt-quantity\"\n\t\t\t\t\t\t\tplaceholder=\"Qty\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvalue={quantity || ''}\n\t\t\t\t\t\t\tonChange={onChangeHandlerGenerator('quantity')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t\t<Button color=\"primary\" fullWidth onClick={addItemToList}>\n\t\t\t\t\t\t\t<ChevronRight />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid> \n\n\t\t\t\t<hr />\n\n\t\t\t\t{\n\t\t\t\t\tthis.state.selectedItems.map(item => {\n\t\t\t\t\t\treturn <div>\n\t\t\t\t\t\t\t{item.quantity} <strong><bigger>X</bigger></strong> {item.name}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t</DialogContent>\n\n\t\t\t<DialogActions>\n\t\t\t\t<Button onClick={update}>UPDATE</Button>\n\t\t\t\t<Button onClick={this.props.close}>CLOSE</Button>\n\t\t\t</DialogActions>\n\n\t\t</Dialog>\n\t}\n}\n\n\n\nexport default StockUpdateModal;","\nimport React from 'react';\nimport Component from './Component';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport AddIcon from '@material-ui/icons/Add';\nimport SubtractIcon from '@material-ui/icons/Remove';\nimport RemoveIcon from '@material-ui/icons/Clear';\n\n\nimport { connect } from 'react-redux';\nimport actions from '../actions';\nimport request, { getRequestErrorMessage } from '../request';\n\n\nclass Cart extends Component {\n\n\tgetItemByEventTarget(event) {\n\t\tconst id = event.currentTarget.getAttribute('data-item-id');\n\t\tlet item;\t\t\n\t\tconst cart = this.props.cart;\n\n\t\tfor (let i in cart) {\n\t\t\tif (cart[i].id.toString() === id) {\n\t\t\t\titem = cart[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn item;\n\t}\n\n\tincrement(event) {\n\t\tconst item = this.getItemByEventTarget(event);\n\t\tactions.addItemToCart(item, 1);\n\t}\n\n\tdecrement(event) {\n\t\tconst item = this.getItemByEventTarget(event);\n\t\tactions.addItemToCart(item, -1);\n\t}\n\n\tremove(event) {\n\t\tconst id = event.currentTarget.getAttribute('data-item-id');\n\t\tactions.removeItemFromCart(parseInt(id));\n\t} \n\n\n\tasync placeOrder() {\n\n\t\tconst { cart } = this.props;\n\n\t\tif (cart.length === 0)\n\t\t\treturn alert('Your cart is empty');\n\t\t\n\t\ttry {\n\n\t\t\tconst response = await request.post('/api/orders/', cart);\n\t\t\tconst { id } = response.data;\n\t\t\twindow.Vees.redirect(`/orders/${id}`);\n\t\t\tactions.closeCart();\n\n\t\t} catch (err) {\n\t\t\talert(getRequestErrorMessage(err));\n\t\t}\n\t}\n\n\trender() {\n\n\t\tconst { cart, open } = this.props;\n\n\n\t\tlet emptyCartJSX;\n\t\tif (cart.length === 0) {\n\t\t\temptyCartJSX = <DialogContentText style={{ padding: '20px' }}>\n\t\t\t\tYour cart is empty.\n\t\t\t</DialogContentText>\n\t\t}\n\n\n\t\tconst increment= this.increment.bind(this);\n\t\tconst decrement = this.decrement.bind(this);\n\t\tconst remove = this.remove.bind(this)\n\t\tconst placeOrder = this.placeOrder.bind(this);\n\n\t\treturn <Dialog open={open}>\n\n\t\t\t<DialogTitle>CART</DialogTitle>\n\n\t\t\t{\n\t\t\t\temptyCartJSX || <DialogContent>\n\n\t\t\t\t\t{\n\t\t\t\t\t\tcart.map(cartItem => {\n\n\t\t\t\t\t\t\tconst { quantity, item } = cartItem;\n\t\t\t\t\t\t\tconst { name, id } = item;\n\n\t\t\t\t\t\t\treturn <p style={{ borderBottom: '1px solid grey', fontFamily: 'Arial', padding: '10px 0' }}>\n\t\t\t\t\t\t\t\t{quantity} X {name}\n\n\t\t\t\t\t\t\t\t<div style={{ marginTop: '10px' }}>\n\t\t\t\t\t\t\t\t\t<ItemActionButton icon={<SubtractIcon size=\"small\" />} color=\"blue\" onClick={decrement} data-item-id={id} />\n\t\t\t\t\t\t\t\t\t<ItemActionButton icon={<AddIcon size=\"small\" />} color=\"blue\"  onClick={increment} data-item-id={id}   />\n\t\t\t\t\t\t\t\t\t<ItemActionButton icon={<RemoveIcon size=\"small\" />} color=\"red\"  onClick={remove} data-item-id={id}  />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</DialogContent>\n\n\t\t\t}\n\n\t\t\t<DialogActions>\n\t\t\t\t<Button onClick={placeOrder}>PLACE ORDER</Button>\n\t\t\t\t<Button onClick={actions.emptyCart}>EMPTY CART</Button>\n\t\t\t\t<Button onClick={actions.closeCart}>CLOSE</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t}\n}\n\n\n// local components\nclass ItemActionButton extends Component {\n\n\trender() {\n\n\t\tconst { icon, onClick, color } = this.props;\n\n\t\treturn <Button onClick={onClick} style={{ color }} color=\"primary\" data-item-id={this.props['data-item-id']}>\n\t\t\t{icon}\n\t\t</Button>\n\t}\n}\n\n\nfunction mapStateToProps(state) {\n\n\tconst { cart, cartOpen:open, cartMap } = state; \n\treturn { cart, open, cartMap };\n}\n\nexport default connect(mapStateToProps)(Cart);","\nimport React from 'react';\nimport Component from './Component';\nimport BackIcon from '@material-ui/icons/ArrowBack';\nimport QuitIcon from '@material-ui/icons/PowerSettingsNew';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\n\n\n\nconst footerStyle = {\n\tposition: 'fixed',\n\tcolor: 'white',\n\tbackground: '#f50057',\n\tleft: 0,\n\tright: 0,\n\tbottom: 0,\n\tpadding: '10px'\n}\n\n\nfunction back() {\n\twindow.Vees.history.goBack();\n}\n\n\nclass Footer extends Component {\n\n\n\tcomponentDidMount() {\n\t\tconst footerHeight = document.getElementById('footer').offsetHeight + 'px';\n\t\tdocument.documentElement.style.setProperty('--footer-height', footerHeight);\n\t}\n\n\n\trender() {\n\n\t\treturn <Grid container id=\"footer\" style={footerStyle}>\n\n\t\t\t<Grid item xs={6}>\n\t\t\t\t<Button fullWidth style={{ color: 'white' }} onClick={back}>\n\t\t\t\t\t<BackIcon />\n\t\t\t\t</Button>\n\t\t\t</Grid>\n\n\t\t\t<Grid item xs={6}>\n\t\t\t\t<Button fullWidth style={{ color: 'white' }} onClick={window.quitApp}>\n\t\t\t\t\t<QuitIcon />\n\t\t\t\t</Button>\n\t\t\t</Grid>\n\t\t</Grid>\n\t}\n}\n\nexport default Footer;","\nimport React from 'react';\nimport Component from '../components/Component';\n\n\nclass Page extends Component {\n\n\tconstructor(props) {\n\t\t\n\t\tsuper(props);\n\n\t\tif (window.Netro === undefined) {\n\n\t\t\t// setting up the Netro global object\n\t\t\twindow.Vees = {};\n\t\t\twindow.Vees.history = props.history;\n\t\t\t\n\t\t\t// creating a function to redirect SPAically \n\t\t\tconst redirect = (path) => {\n\t\t\t\twindow.Vees.history.push(path);\n\t\t\t}\n\n\t\t\twindow.Vees.redirect = redirect;\n\t\t\tPage.redirect = redirect;\n\t\t\t\t\t\n\t\t}\n\n\t}\n\n\t_componentDidMount() {\n\n\t}\n\n\tasync componentDidMount() {\n\t\tawait this._componentDidMount();\n\t\twindow.scrollTo(0, 0);\n\t}\n\n\t_render() {\n\t\treturn <h1>Please implement <code>_render()</code></h1>\n\t}\n\n\trender() {\n\t\treturn <div className=\"page\">\n\t\t\t{this._render()}\n\t\t</div>\n\t}\n\n}\n\nexport default Page;","\nimport React from 'react';\nimport Page from './Page';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/styles';\nimport { Link } from 'react-router-dom';\n\nimport request, { getRequestErrorMessage } from '../request';\n\n\n// styles\nconst useStyles = theme => ({\n\troot: {\n\t\t'& .text-field': {\n\t\t\tmarginBottom: '30px'\n\t\t},\n\t\tmargin: '20px',\n\t\t'& span.center-align': {\n\t\t\tdisplay: 'block',\n\t\t\tmarginTop: '10px',\n\t\t\tcolor: '#333',\n\t\t\tfontSize: 20\n\t\t}\n\t}\n})\n\n\nclass Home extends Page {\n\n\tasync login() {\n\n\t\tconst { email, password } = this.state.values;\n\n\t\tif (!email)\n\t\t\treturn alert('Email is required'); \n\n\t\tif (!password)\n\t\t\treturn alert('Password is required');\n\n\t\tconst data = { username: email, password };\n\t\ttry {\n\t\t\tawait request.post('/api/login-credentials', data);\n\t\t\tPage.redirect('/outlets');\n\t\t} catch (err) {\n\t\t\talert(getRequestErrorMessage(err));\n\t\t}\n\n\n\t}\n\n\tstate = { values: {} }\n\n\t_render() {\n\n\t\tconst { email, password } = this.state.values;\n\n\t\tconst onChangeHandlerGenerator = this.onChangeHandlerGenerator.bind(this);\n\t\tconst login = this.login.bind(this);\n\n\t\treturn <div className={this.props.classes.root}>\n\n\t\t\t<h1 className=\"center-align\" style={{ margin: '100px 0', fontSize: 50, fontFamily: 'Arial' }}>\n\t\t\t\tWELCOME TO<br />\n\t\t\t\t\tVEE'S<br />\n\t\t\t\tCLICK TO EAT\n\t\t\t</h1>\n\n\t\t\t<TextField\n\t\t\t\tfullWidth\n\t\t\t\tsize=\"large\"\n\t\t\t\tid=\"txt-email\"\n\t\t\t\tplaceholder=\"Email\"\n\t\t\t\tvalue={email}\n\t\t\t\tonChange={onChangeHandlerGenerator('email')}\n\t\t\t\tclassName=\"text-field\"\n\t\t\t/>\n\n\t\t\t<TextField\n\t\t\t\tfullWidth\n\t\t\t\tsize=\"large\"\n\t\t\t\tid=\"txt-password\"\n\t\t\t\tplaceholder=\"Password\"\n\t\t\t\ttype=\"password\"\n\t\t\t\tvalue={password}\n\t\t\t\tonChange={onChangeHandlerGenerator('password')}\n\t\t\t\tclassName=\"text-field\"\n\t\t\t/>\n\n\t\t\t<Button\n\t\t\t\tfullWidth\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tsize=\"large\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tonClick={login}\n\t\t\t>\n\t\t\t\tLOGIN\n\t\t\t</Button>\n\n\t\t\t<span className=\"center-align\">\n\t\t\t\tDon't have an account? <Link to=\"/signup\">Sign up</Link>\n\t\t\t</span>\n\n\t\t</div>\n\t}\n}\n\nconst StyledHome = withStyles(useStyles)(Home);\nexport default StyledHome;","\nimport React from 'react';\nimport Page from './Page';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/styles';\nimport { Link } from 'react-router-dom';\n\nimport request, { getRequestErrorMessage } from '../request';\n\n\n\n// styles\nconst useStyles = theme => ({\n\troot: {\n\t\t'& .text-field': {\n\t\t\tmarginBottom: '30px'\n\t\t},\n\t\tmargin: '20px',\n\t\t'& span.center-align': {\n\t\t\tdisplay: 'block',\n\t\t\tmarginTop: '10px',\n\t\t\tcolor: '#333',\n\t\t\tfontSize: 20\n\t\t}\n\t}\n})\n\n\nclass Signup extends Page {\n\n\tstate = { values: {} }\n\n\tasync submit() {\n\n\t\tconst { name, email, password, confirm_password, location } = this.state.values;\n\n\t\tif (!name)\n\t\t\treturn alert('Provide name');\n\n\t\tif (!email)\n\t\t\treturn alert('Provide email');\n\n\t\tif (!password)\n\t\t\treturn alert('Provide password');\n\n\t\tif (!confirm_password)\n\t\t\treturn alert('Confirm password');\n\n\t\tif (password !== confirm_password)\n\t\t\treturn alert('Password mismatch');\n\n\t\tif (!location)\n\t\t\treturn alert('Provide location');\n\n\t\tconst data = { name, email, password, location };\n\n\t\ttry {\n\t\t\tawait request.post('/api/users', data);\n\t\t\talert('Account created successfully, you will be redirected to sign in.');\n\t\t\twindow.Vees.redirect('/');\n\t\t} catch (err) {\n\t\t\talert(getRequestErrorMessage(err))\n\t\t}\n\t}\n\n\t_render() {\n\n\t\tconst { name, email, password, confirm_password, location } = this.state.values;\n\n\t\tconst onChangeHandlerGenerator = this.onChangeHandlerGenerator.bind(this);\n\t\tconst submit = this.submit.bind(this);\n\n\t\treturn <div className={this.props.classes.root}>\n\n\t\t\t<h1 style={{ padding: '40px 0'}}>\n\t\t\t\tCREATE ACCOUNT\n\t\t\t</h1>\n\n\t\t\t<TextField\n\t\t\t\tfullWidth\n\t\t\t\tsize=\"large\"\n\t\t\t\tid=\"txt-name\"\n\t\t\t\tplaceholder=\"Name\"\n\t\t\t\tvalue={name}\n\t\t\t\tonChange={onChangeHandlerGenerator('name')}\n\t\t\t\tclassName=\"text-field\"\n\t\t\t/>\n\n\t\t\t<TextField\n\t\t\t\tfullWidth\n\t\t\t\tsize=\"large\"\n\t\t\t\tid=\"txt-email\"\n\t\t\t\tplaceholder=\"Email\"\n\t\t\t\tvalue={email}\n\t\t\t\tonChange={onChangeHandlerGenerator('email')}\n\t\t\t\tclassName=\"text-field\"\n\t\t\t/>\n\n\t\t\t<TextField\n\t\t\t\tfullWidth\n\t\t\t\tsize=\"large\"\n\t\t\t\tid=\"txt-password\"\n\t\t\t\ttype=\"password\"\n\t\t\t\tplaceholder=\"Password\"\n\t\t\t\tvalue={password}\n\t\t\t\tonChange={onChangeHandlerGenerator('password')}\n\t\t\t\tclassName=\"text-field\"\n\t\t\t/>\n\n\t\t\t<TextField\n\t\t\t\tfullWidth\n\t\t\t\tsize=\"large\"\n\t\t\t\tid=\"txt-confirm\"\n\t\t\t\ttype=\"password\"\n\t\t\t\tplaceholder=\"Confirm password\"\n\t\t\t\tvalue={confirm_password}\n\t\t\t\tonChange={onChangeHandlerGenerator('confirm_password')}\n\t\t\t\tclassName=\"text-field\"\n\t\t\t/>\n\n\t\t\t<TextField\n\t\t\t\tfullWidth\n\t\t\t\tsize=\"large\"\n\t\t\t\tid=\"txt-location\"\n\t\t\t\tplaceholder=\"Location\"\n\t\t\t\tvalue={location}\n\t\t\t\tonChange={onChangeHandlerGenerator('location')}\n\t\t\t\tclassName=\"text-field\"\n\t\t\t/>\n\n\n\n\t\t\t<Button\n\t\t\t\tfullWidth\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tsize=\"large\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tonClick={submit}\n\t\t\t>\n\t\t\t\tCREATE ACCOUNT\n\t\t\t</Button>\n\n\t\t\t<span className=\"center-align\">\n\t\t\t\tAlready have an account? <Link to=\"/\">Sign in</Link>\n\t\t\t</span>\n\n\t\t</div>\n\t}\n}\n\n\nconst StyledSignup = withStyles(useStyles)(Signup);\nexport default StyledSignup;","\nimport React from 'react';\nimport Page from './Page';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/styles';\n\nimport request, { getRequestErrorMessage } from '../request';\n\n\nconst useStyles = theme => ({\n\troot: {\n\t\t'& .text-field': {\n\t\t\tmarginBottom: '30px'\n\t\t}\n\t}\n})\n\n\nclass RegisterOutlet extends Page {\n\n\tasync submit() {\n\n\t\tconst { name, location } = this.state.values;\n\n\t\tif (!name)\n\t\t\treturn alert('Name is required');\n\n\t\tif (!location)\n\t\t\treturn alert('Location is required');\n\n\t\tconst data = { name, location };\n\n\t\ttry {\n\t\t\tconst response = await request.post('/api/outlets', data);\n\t\t\tconst { id } = response.data;\n\t\t\tPage.redirect(`/outlets/${id}`)\n\t\t} catch (err) {\n\t\t\talert(getRequestErrorMessage(err));\n\t\t}\n\n\t}\n\n\tstate = { values: {} }\n\n\n\t_render() {\n\n\t\tconst onChangeHandlerGenerator = this.onChangeHandlerGenerator.bind(this);\n\t\tconst submit = this.submit.bind(this);\n\n\t\tconst { name, location } = this.state.values;\n\t\tconst { classes } = this.props;\n\n\t\treturn <div style={{ margin: '100px 20px' }} className={classes.root}>\n\t\t\t<h1 className=\"center-align\">Register Outlet</h1>\n\n\t\t\t<TextField\n\t\t\t\tplaceholder=\"Outlet name\"\n\t\t\t\tonChange={onChangeHandlerGenerator('name')}\n\t\t\t\tvalue={name}\n\t\t\t\tclassName=\"text-field\"\n\t\t\t\tfullWidth\n\t\t\t/>\n\n\t\t\t<TextField\n\t\t\t\tplaceholder=\"Location\"\n\t\t\t\tonChange={onChangeHandlerGenerator('location')}\n\t\t\t\tvalue={location}\n\t\t\t\tclassName=\"text-field\"\n\t\t\t\tfullWidth\n\t\t\t/>\n\n\t\t\t<Button fullWidth variant=\"contained\" color=\"primary\" onClick={submit}>\n\t\t\t\tREGISTER\n\t\t\t</Button>\n\t\t</div>\n\t}\n}\n\nexport default withStyles(useStyles)(RegisterOutlet);","\n\nimport React from 'react';\nimport Page from './Page';\nimport { Link } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport request, { getRequestErrorMessage } from '../request';\n\nclass Outlets extends Page {\n\n\tasync fetchOutlets() {\n\n\t\ttry {\n\n\t\t\tconst response = await request.get('/api/outlets');\n\t\t\tconst outlets = response.data;\n\n\t\t\tawait this._updateState({ outlets, fetched: true });\n\t\t} catch (err) {\n\t\t\talert(getRequestErrorMessage(err))\n\t\t}\n\t}\n\n\n\t_componentDidMount() {\n\n\t\tthis.fetchOutlets();\n\t}\n\n\n\tstate = {\n\t\toutlets: [],\n\t\tfetched: false\n\t}\n\n\n\t_render() {\n\n\t\tconst { outlets, fetched } = this.state;\n\n\t\tconst fetchOutlets = this.fetchOutlets.bind(this);\n\n\n\t\tlet noOutletsJSX, notFetchedJSX;\n\n\t\tconst noContentDivStyle = {\n\t\t\tdisplay: 'flex', \n\t\t\tjustifyContent: 'center', \n\t\t\talignItems: 'center', \n\t\t\theight: 'calc(var(--window-height) - var(--navbar-height))'\n\t\t}\n\n\t\tif (!fetched) {\n\t\t\tnotFetchedJSX = <div style={noContentDivStyle}>\n\n\t\t\t\t<h3>Fetching data failed.</h3>\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" onClick={fetchOutlets}>\n\t\t\t\t\tretry\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t} else {\n\t\t\tif (outlets.length === 0) {\n\t\t\t\tnoOutletsJSX = <div style={noContentDivStyle}>\n\t\t\t\t\t<h3>No outlets yet.</h3>\n\t\t\t\t</div>\n\t\t\t}\n\t\t}\n\n\t\treturn notFetchedJSX || noOutletsJSX || <div style={{ margin: '20px' }}>\n\n\t\t\t<h1 className=\"center-align\">Available Outlets</h1>\n\n\t\t\t{\n\t\t\t\toutlets.map(outlet => {\n\t\t\t\t\tconst { id, name, location } = outlet;\n\n\t\t\t\t\treturn <div style={{ borderBottom: '1px solid grey', paddingBottom: '20px' }}>\n\t\t\t\t\t\t<h2>{name}</h2>\n\t\t\t\t\t\t<h3 style={{ color: 'grey'}}>{location}</h3>\n\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" component={Link} to={`/outlets/${id}`}>\n\t\t\t\t\t\t\tCHECK US OUT\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t})\n\t\t\t}\n\t\t</div>\n\t}\n}\n\n\nexport default Outlets;","\nimport Component from './Component';\nimport React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\n\n\nimport { formatPrice } from '../utils';\nimport actions from '../actions';\n\n\nclass Item extends Component {\n\n\n\teditItem() {\n\t\tthis.props.edit(this.props.data.id)\n\t}\n\n\tdeleteItem() {\n\t\tthis.props.delete(this.props.data.id);\n\t}\n\n\taddToCart() {\n\t\tconst item = this.props.data;\n\t\tactions.addItemToCart(item, 1);\n\t}\n\n\trender() {\n\n\t\tconst { picture, name, price=0, number_in_stock=0 } = this.props.data;\n\t\tconst { isOwner } = this.props; \n\n\n\t\tconst deleteItem = this.deleteItem.bind(this);\n\t\tconst editItem = this.editItem.bind(this);\n\t\tconst addToCart = this.addToCart.bind(this);\n\n\t\treturn <Grid container style = {{ paddingBottom: 0, borderBottom: '1px solid grey' }}>\n\t\t\t<Grid item xs={5}>\n\t\t\t\t<img src={picture} style={{ width: '100%', aspectRatio: '1' }} alt={name} />\n\t\t\t</Grid>\n\n\t\t\t<Grid item xs={7} style={{ padding: 12 }}>\n\t\t\t\t<h5>{name}</h5>\n\t\t\t\t<h3>${formatPrice(price)}</h3>\n\t\t\t\t<span>\n\t\t\t\t\tItems In Stock: <span style={{ color: 'green' }}>\n\t\t\t\t\t{number_in_stock}\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\n\t\t\t\t{\n\t\t\t\t\tisOwner ? (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button style={{ color: 'red' }} onClick={deleteItem}>\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t<Button color=\"primary\" onClick={editItem}>\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Button size=\"small\" color=\"secondary\" variant=\"contained\" onClick={addToCart}>\n\t\t\t\t\t\tADD TO CART\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</Grid>\n\t\t</Grid>\n\t}\n}\n\n\nexport default Item","\n\nfunction formatPrice(price) {\n\tprice = parseFloat(price);\n\treturn price.toFixed(2);\n}\n\n\nexport {\n\tformatPrice\n}","\nimport React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Page from './Page';\nimport Component from '../components/Component'\nimport Item from '../components/Item';\nimport request, { getRequestErrorMessage } from '../request';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport TextField from '@material-ui/core/TextField';\nimport StockUpdateModal from '../components/StockUpdateModal';\nimport { Link } from 'react-router-dom'\n\nclass Outlet extends Page {\n\n\n\n\tasync deleteItem(itemID) {\n\n\t\tconst outletID = this.props.match.params.id;\n\t\tconst url = `/api/outlets/${outletID}/items/${itemID}`;\n\n\t\ttry {\n\t\t\tawait request.delete(url);\n\n\t\t\t// rmoving from DOM\n\t\t\tconst items = this.state.items.filter(item => {\n\t\t\t\treturn item.id !== itemID;\n\t\t\t});\n\n\t\t\tawait this._updateState({ items });\n\n\t\t} catch (err) {\n\t\t\talert(getRequestErrorMessage(err));\n\t\t}\n\t}\n\n\tasync editItem(itemID) {\n\t\tlet itemToBeEdited;\n\t\tconst itemModalMode = 'edit';\n\n\t\tfor (let i in this.state.items) {\n\t\t\tconst item = this.state.items[i];\n\n\t\t\tif (item.id.toString() === itemID.toString()) {\n\t\t\t\titemToBeEdited = item;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (itemToBeEdited) {\n\t\t\tawait this._updateState({ itemToBeEdited, itemModalMode });\n\t\t\tawait this.openItemModal();\n\t\t}\n\t}\n\n\tasync updateStock(stock) {\n\n\t\tconst itemsMap = new Map();\n\t\tconst items = this.state.items.map(item => {\n\t\t\titemsMap.set(item.id.toString(), item);\n\t\t\treturn item;\n\t\t});\n\n\t\tfor (let i in stock) {\n\n\t\t\tconst { id, quantity } = stock[i];\n\t\t\tconst item = itemsMap.get(id.toString());\n\n\t\t\tif (item) {\n\t\t\t\tconsole.log({ quantity, number_in_stock: item.number_in_stock})\n\t\t\t\titem.number_in_stock += quantity;\n\t\t\t}\n\t\t}\n\n\t\tawait this._updateState({ items });\n\n\n\t}\n\n\n\tasync closeItemModal() {\n\t\tawait this._updateState({ addItemModalOpen: false })\n\t}\n\n\tasync openItemModal() {\n\t\tawait this._updateState({ addItemModalOpen: true })\n\t}\n\n\tasync openUpdateStockModal() {\n\t\tawait this._updateState({ updateStockModalOpen: true })\n\t}\n\n\tasync closeUpdateStockModal() {\n\t\tawait this._updateState({ updateStockModalOpen: false });\n\t}\n\n\tasync fetchData() {\n\t\t\n\t\ttry {\n\n\t\t\tconst id = this.props.match.params.id;\n\t\t\tconst response = await request.get(`/api/outlets/${id}`);\n\t\t\tconst { items, name, isOwner } = response.data;\n\t\t\tawait this._updateState({ items, name, isOwner, dataFetched: true });\n\n\t\t} catch (err) {\n\t\t\talert(getRequestErrorMessage(err))\n\t\t}\n\t}\n\n\tasync addItem(item) {\n\t\tconst { items } = this.state;\n\t\titems.push(item);\n\n\t\tawait this._updateState({ items });\n\t}\n\n\tasync updateItem(itemID, updates) {\n\n\t\tconst items = this.state.items.map(item => {\n\n\t\t\tif (item.id.toString() === itemID.toString()) {\n\n\t\t\t\tfor (let prop in updates) {\n\t\t\t\t\titem[prop] = updates[prop];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn item;\n\n\t\t});\n\n\t\tawait this._updateState({ items });\n\n\t}\n\n\t_componentDidMount() {\n\t\tthis.fetchData();\n\t}\n\n\tstate = {\n\t\taddItemModalOpen: false,\n\t\tupdateStockModalOpen: false,\n\t\titems: [],\n\t\titemModalMode: 'add'\n\t}\n\n\t_render() {\n\n\t\tconst { items, dataFetched, isOwner, name, addItemModalOpen, updateStockModalOpen, itemModalMode, itemToBeEdited } = this.state;\n\t\tconst outletID = this.props.match.params.id;\n\n\t\tconst fetchData = this.fetchData.bind(this);\n\t\tconst openItemModal = this.openItemModal.bind(this);\n\t\tconst closeItemModal = this.closeItemModal.bind(this);\n\t\tconst openUpdateStockModal = this.openUpdateStockModal.bind(this);\n\t\tconst closeUpdateStockModal = this.closeUpdateStockModal.bind(this);\n\t\tconst addItem = this.addItem.bind(this);\n\t\tconst deleteItem = this.deleteItem.bind(this);\n\t\tconst editItem = this.editItem.bind(this);\n\t\tconst updateStock = this.updateStock.bind(this);\n\t\tconst updateItem = this.updateItem.bind(this);\n\n\t\tlet dataNotFetchedJSX, noItemsJSX;\n\n\t\tif (!dataFetched) {\n\n\t\t\tconst noContentDivStyle = {\n\t\t\t\tdisplay: 'flex', \n\t\t\t\tjustifyContent: 'center', \n\t\t\t\talignItems: 'center', \n\t\t\t\theight: 'calc(var(--window-height) - var(--navbar-height))'\n\t\t\t}\n\n\t\t\tdataNotFetchedJSX = <div style={noContentDivStyle}>\n\t\t\t\t<h2>Failed to fetch data</h2>\n\t\t\t\t<br />\n\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" onClick={fetchData}>\n\t\t\t\t\tretry\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t} else {\n\n\t\t\tif (items.length === 0) {\n\t\t\t\tnoItemsJSX = <div>\n\t\t\t\t\tNo items in this outlet.\n\t\t\t\t</div>\n\t\t\t}\n\t\t}\n\n\t\treturn dataNotFetchedJSX || <div>\n\n\t\t\t<div className=\"center-align\">\n\t\t\t\t<h1 style={{ margin: 0, padding: 0 }}>{name}</h1>\n\t\t\t\t<h3 style={{ color: 'grey', margin: 0, padding: 0 }}>Our Menu</h3>\n\t\t\t</div>\n\n\n\t\t\t{\n\t\t\t\tisOwner ?  <React.Fragment>\n\n\t\t\t\t\t<ItemModal open={addItemModalOpen} close={closeItemModal} outletID={outletID} addItem={addItem} updateItem={updateItem} mode={itemModalMode} item={itemToBeEdited} />\n\t\t\t\t\t<StockUpdateModal open={updateStockModalOpen} close={closeUpdateStockModal} items={items} outletID={outletID} updateStock={updateStock}  />\n\n\t\t\t\t\t<Button color=\"primary\" onClick={openItemModal}>\n\t\t\t\t\t\tADD ITEM\n\t\t\t\t\t</Button> \n\n\t\t\t\t\t<Button color=\"primary\" onClick={openUpdateStockModal}>\n\t\t\t\t\t\tUPDATE STOCK\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t<Button color=\"primary\" component={Link} to={`/outlets/${outletID}/orders`}>\n\t\t\t\t\t\tVIEW ORDERS\n\t\t\t\t\t</Button>\n\n\t\t\t\t</React.Fragment> : undefined\n\t\t\t}\n\n\t\t\t{\n\t\t\t\tnoItemsJSX || items.map(item => {\n\t\t\t\t\treturn <Item data={item} isOwner={isOwner} edit={editItem} delete={deleteItem} />\n\t\t\t\t})\n\t\t\t}\n\n\t\t\n\t\t</div>\n\t}\n}\n\nexport default Outlet;\n\n\n\n// local components\n\nclass ItemModal extends Component {\n\n\n\tstate = {\n\t\tvalues: {}\n\t}\n\n\tasync submit() {\n\n\t\tconst { picture, name, price } = this.state.values;\n\t\tconst { outletID } = this.props;\n\n\t\tif (!name)\n\t\t\treturn alert('Name is required');\n\n\t\tif (!price)\n\t\t\treturn alert('Price is required');\n\n\n\t\tif (!picture)\n\t\t\treturn alert('Picture is required');\n\n\t\tif (this.props.mode === 'edit') {\n\n\t\t\tconst payload = {};\n\t\t\tconst item = this.props.item;\n\n\t\t\tif (item.picture !== picture)\n\t\t\t\tpayload.picture = picture;\n\n\n\t\t\tif (item.price.toString() !== price.toString())\n\t\t\t\tpayload.price = price;\n\n\n\t\t\tif (item.name !== name)\n\t\t\t\tpayload.name = name;\n\n\t\t\tif (Object.keys(payload).length === 0)\n\t\t\t\treturn alert('No changes made');\n\n\t\t\tconst url = `/api/outlets/${outletID}/items/${item.id}`;\n\n\t\t\ttry {\n\t\t\t\tawait request.patch(url, payload);\n\t\t\t\tawait this.props.updateItem(item.id, payload);\n\t\t\t\tawait this.close();\n\n\t\t\t} catch (err) {\n\t\t\t\talert(getRequestErrorMessage(err))\n\t\t\t}\n\n\t\t} else {\n \n\t\t\tconst payload = { name, price, picture };\n\t\t\tconst url = `/api/outlets/${outletID}/items`;\n\n\t\t\ttry {\n\n\t\t\t\tconst response = await request.post(url, payload);\n\t\t\t\tconst { id } = response.data;\n\n\t\t\t\tthis.props.addItem({ ...payload, id, number_in_stock: 0 });\n\t\t\t\tthis.close();\n\n\t\t\t} catch (err) {\n\t\t\t\talert(getRequestErrorMessage(err));\n\t\t\t}\n\n\t\t}\n\t}\n\n\tstatic getDataURL(file) {\n\n\t\tconst reader = new FileReader();\n\n\t\treturn new Promise(resolve => {\n\n\t\t\treader.onload = function() {\n\t\t\t\tresolve(reader.result);\n\t\t\t}\n\n\t\t\treader.readAsDataURL(file);\n\n\t\t});\n\t}\n\n\tstatic  pictureDataToPng(data) {\n\n\t\tconst canvas = document.createElement('canvas');\n\t\tconst img = document.createElement('img');\n\t\tconst ctx = canvas.getContext('2d');\n\n\t\treturn new Promise(resolve => {\n\n\t\t\timg.onload = function() {\n\t\t\t\tconst { naturalHeight, naturalWidth } = img;\n\t\t\t\tcanvas.width = naturalWidth;\n\t\t\t\tcanvas.height = naturalHeight;\n\t\t\t\tctx.drawImage(img, 0, 0, naturalWidth, naturalHeight, 0, 0, naturalWidth, naturalHeight);\n\t\t\t\tresolve(canvas.toDataURL())\t\t\t\t\n\t\t\t}\n\n\t\t\timg.src = data;\n\t\t})\n\n\n\t}\n\n\n\tasync onPictureChange(event) {\n\t\t\n\t\tconst file = event.target.files[0];\n\n\t\tif (!file)\n\t\t\treturn;\n\n\t\tlet picture = await ItemModal.getDataURL(file);\n\t\tpicture = await ItemModal.pictureDataToPng(picture);\n\t\tconst values = { ...this.state.values, picture }\n\t\tawait this._updateState({ values });\n\t}\n\n\n\tasync componentDidUpdate(prevProps, prevState) {\n\n\t\tif (this.props.open === true && prevProps.open === false) {\n\n\t\t\tif (this.props.mode === 'edit') {\n\t\t\t\tconst { picture, price, name } = this.props.item;\n\t\t\t\tlet { values } = this.state;\n\t\t\t\tvalues = { ...values, picture, name, price };\n\n\t\t\t\tawait this._updateState({ values})\n\t\t\t}\n\n\t\t}\n\t}\n\n\n\tasync close() {\n\n\t\t// clear\n\t\tawait this._updateState({\n\t\t\tvalues: {\n\t\t\t\tpicture: '',\n\t\t\t\tprice: '',\n\t\t\t\tname: ''\n\t\t\t}\n\t\t});\n\n\t\tawait this.props.close();\n\n\t}\n\n\n\trender() {\n\n\t\tconst { name, price, picture } = this.state.values;\n\t\tconst onChangeHandlerGenerator = this.onChangeHandlerGenerator.bind(this);\n\t\tconst onPictureChange = this.onPictureChange.bind(this);\n\t\tconst submit = this.submit.bind(this);\n\n\t\tconst { open } = this.props;\n\n\t\treturn <Dialog open={open}>\n\n\t\t\t<DialogTitle>ADD PRODUCT</DialogTitle>\n\n\t\t\t<DialogContent>\n\n\t\t\t\t<TextField\n\t\t\t\t\tfullWidth\n\t\t\t\t\tplaceholder=\"Item name\"\n\t\t\t\t\tclassName=\"text-field\"\n\t\t\t\t\tvalue={name}\n\t\t\t\t\tonChange={onChangeHandlerGenerator('name')}\n\t\t\t\t/>\n\n\t\t\t\t<TextField\n\t\t\t\t\tfullWidth\n\t\t\t\t\tplaceholder=\"Price\"\n\t\t\t\t\tclassName=\"text-field\"\n\t\t\t\t\tvalue={price}\n\t\t\t\t\tonChange={onChangeHandlerGenerator('price')}\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t/>\n\n\n\t\t\t\t<div style={{ aspectRatio: '1', border: '1px #ccc solid' }}>\n\t\t\t\t\t<img src={picture} style={{ width: '100%', height: '100%' }} id=\"img-product\" />\n\t\t\t\t</div>\n\n\t\t\t\t<input\n\t\t\t\t\tplaceholder=\"Picture\"\n\t\t\t\t\tclassName=\"text-field\"\n\t\t\t\t\tonChange={onPictureChange}\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t/>\n\n\t\t\t</DialogContent>\n\n\t\t\t<DialogActions>\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={submit}>SAVE</Button>\n\t\t\t\t<Button color=\"primary\" onClick={this.close.bind(this)}>CLOSE</Button>\n\t\t\t</DialogActions>\n\n\t\t</Dialog>\n\t}\n}","\nimport React from 'react';\nimport Page from './Page';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/styles';\nimport { Link } from 'react-router-dom';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport MultiplicationSign from '@material-ui/icons/Clear';\nimport TimeAgo from 'react-timeago';\nimport Component from '../components/Component';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogActions from '@material-ui/core/DialogActions'\n\n\nimport request, { getRequestErrorMessage } from '../request';\n\n\n// style\n\nconst divDataNotFetchedStyle = {\n\tdisplay: 'flex',\n\talignItems: 'center',\n\tjustifyContent: 'center',\n\theight: 'calc(var(--window-height) - var(--navbar-height))'\n}\n\nclass Order extends Page {\n\n\tasync fetchData() {\n\n\t\tconst { id } = this.props.match.params;\n\n\t\ttry {\n\t\t\tconst response = await request.get(`/api/orders/${id}`);\n\t\t\tconst data = response.data;\n\n\t\t\tawait this._updateState({ ...data, dataFetched: true });\n\t\t} catch (err) {\n\t\t\talert(getRequestErrorMessage(err));\n\t\t}\n\t}\n\n\n\tasync openPhoneNumberModal() {\n\t\tawait this._updateState({ phoneNumberModalOpen: true });\n\t}\n\n\tasync closePhoneNumberModal() {\n\t\tawait this._updateState({ phoneNumberModalOpen: false });\n\t}\n\n\n\tasync updateStatusAfterSuccessfulPayment() {\n\t\tawait this._updateState({ status: 'paid' })\n\t}\n\n\n\t_componentDidMount() {\n\n\t\tthis.fetchData();\n\t}\n\n\tstate = {\n\n\t}\n\n\t_render() {\n\n\t\tconst { id } = this.props.match.params;\n\t\tconst { items, total, time, status, phoneNumberModalOpen } = this.state;\n\n\t\tconst retry = this.fetchData.bind(this);\n\t\tconst openPhoneNumberModal = this.openPhoneNumberModal.bind(this);\n\t\tconst closePhoneNumberModal = this.closePhoneNumberModal.bind(this);\n\t\tconst updateStatusAfterSuccessfulPayment = this.updateStatusAfterSuccessfulPayment.bind(this);\n\n\t\tconst dataNotFetchedJSX = (this.state.dataFetched) ? undefined : <div style={divDataNotFetchedStyle}>\n\t\t\t<Button onClick={retry} color=\"primary\">RETRY</Button>\n\t\t</div>\n\n\t\treturn dataNotFetchedJSX || <div>\n\n\t\t\t<PhoneNumberModal open={phoneNumberModalOpen} close={closePhoneNumberModal} orderID={id} updateStatus={updateStatusAfterSuccessfulPayment} />\n\n\t\t\t<h1>Order #{id}</h1>\n\n\t\t\t<Table>\n\n\t\t\t\t<TableBody>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\tITEMS\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\titems.map(item => {\n\n\t\t\t\t\t\t\t\t\treturn <p style={{ margin: 0, padding: '10px' }}>\n\t\t\t\t\t\t\t\t\t\t{item.quantity} <b>X</b> {item.name}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\n\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\tTOTAL\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t${total.toFixed(2)}\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\tSTATUS\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell style={{ textTransform: 'uppercase' }}>\n\t\t\t\t\t\t\t<code>{status}</code>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\tCREATED\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<TimeAgo date={time} />\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\n\t\t\t\t</TableBody>\n\n\t\t\t</Table>\n\t\t\t\n\t\t\t{\n\t\t\t\t(status === 'not_paid') ? <Button variant=\"contained\" size=\"large\" color=\"primary\" onClick={openPhoneNumberModal} fullWidth>\n\t\t\t\t\tPAY\n\t\t\t\t</Button> : undefined\n\t\t\t}\n\n\n\t\t</div>\n\t}\n}\n\nexport default Order;\n\n\n\n// local components\n\nclass PhoneNumberModal extends Component {\n\n\n\tstate = {\n\t\tvalues: {}\n\t}\n\n\n\tasync pay() {\n\t\t\n\t\tconst { phone } = this.state.values;\n\n\t\tif (!phone)\n\t\t\treturn alert('Phone number is required.');\n\n\t\tconst orderID = this.props.orderID;\n\t\tconst data = { phone };\n\n\t\ttry {\n\n\t\t\tconst response = await request.post(`/api/orders/${orderID}/mobile-money`, data);\n\t\t\tconst { status } = response.data;\n\n\t\t\talert('Payment Successful');\n\t\t\tthis.props.updateStatus();\n\n\t\t} catch (err) {\n\t\t\talert(getRequestErrorMessage(err));\n\t\t}\n\t}\n\n\trender() {\n\n\n\t\tconst onChangeHandlerGenerator = this.onChangeHandlerGenerator.bind(this);\n\t\tconst pay = this.pay.bind(this);\n\n\t\tconst { phone } = this.state.values;\n\t\tconst { open } = this.props;\n\n\n\t\treturn <Dialog open={open}>\n\t\t\t<DialogTitle>ECOCASH/ONEMONEY</DialogTitle>\n\t\t\t\n\t\t\t<DialogContent>\n\n\t\t\t\t<TextField\n\t\t\t\t\tplaceholder=\"Phone number\"\n\t\t\t\t\tvalue={phone}\n\t\t\t\t\tonChange={onChangeHandlerGenerator('phone')}\n\t\t\t\t/>\n\t\t\t</DialogContent>\n\n\t\t\t<DialogActions>\n\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={pay}>\n\t\t\t\t\tPAY\n\t\t\t\t</Button>\n\n\t\t\t\t<Button variant=\"text\" color=\"primary\" onClick={this.props.close}>\n\t\t\t\t\tclose\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t}\n}","\nimport React from 'react';\nimport Page from './Page';\nimport { Link } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\n\nimport request, { getRequestErrorMessage } from '../request';\n\nclass MyOrders extends Page {\n\n\n\tasync fetchData() {\n\n\t\ttry {\n\t\t\tconst response = await request.get('/api/orders/personal');\n\t\t\tconst orders = response.data;\n\n\t\t\tthis._updateState({ orders, dataFetched: true })\n\t\t} catch(err) {\n\t\t\talert(getRequestErrorMessage(err))\n\t\t}\n\t}\n\n\n\t_componentDidMount() {\n\t\tthis.fetchData();\n\t}\n\n\tstate = {\n\t\torders: []\n\t}\n\n\t_render() {\n\n\n\t\tconst { orders, dataFetched } = this.state;\n\n\t\tconst fetchData = this.fetchData.bind(this);\n\n\t\tconst notLoadedJSX = dataFetched ? undefined : <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={this.fetchData.bind(this)}>\n\t\t\t\tretry\n\t\t\t</Button>\n\t\t</div>\n\n\t\treturn notLoadedJSX || <div>\n\n\n\t\t\t<h1>My Orders </h1>\n\n\t\t\t{\n\t\t\t\torders.map(order => {\n\t\t\t\t\treturn <div>\n\t\t\t\t\t\t<h3>Order #{ order.id }</h3>\n\t\t\t\t\t\t<h5 style={{ color: 'grey' }}>{order.status.toUpperCase()}</h5>\n\t\t\t\t\t\t<Button component={Link} to={`orders/${order.id}`}>\n\t\t\t\t\t\t\tview\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t})\n\t\t\t}\n\t\t</div>\n\t}\n}\n\n\nexport default MyOrders;","\n\nimport React from 'react';\nimport Page from './Page';\nimport Button from '@material-ui/core/Button';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\n\nimport request, { getRequestErrorMessage } from '../request';\n\n\n\nclass OutletOrders extends Page {\n\n\n\tasync updateOrderStatus(event) {\n\n\t\tconst orderID = event.currentTarget.getAttribute('data-order-id');\n\t\tconst status = event.currentTarget.value;\n\n\t\tconst data = { status }\n\n\t\ttry {\n\n\t\t\tconst response = await request.post(`/api/orders/${orderID}/status`, data);\n\n\t\t\t// update status on the order\n\t\t\tconst orders = this.state.orders.map(order => {\n\n\t\t\t\tif (order.id.toString() === orderID.toString())\n\t\t\t\t\torder.status = status;\n\n\t\t\t\treturn { ...order };\n\n\t\t\t});\n\n\t\t\tthis._updateState({ orders });\n\n\t\t} catch (err) {\n\t\t\talert(getRequestErrorMessage(err));\n\t\t}\n\t}\n\n\tasync fetchData() {\n\n\t\tconst outletID = this.props.match.params.id;\n\n\t\ttry {\n\t\t\tconst response = await request.get(`/api/outlets/${outletID}/orders`);\n\t\t\tconst orders = response.data; console.log(orders);\n\n\t\t\tthis._updateState({ orders, dataFetched: true })\n\t\t} catch(err) {\n\t\t\talert(getRequestErrorMessage(err))\n\t\t}\n\t}\n\n\n\tasync _componentDidMount() {\n\t\tawait this.fetchData();\n\t}\n\n\tstate = {\n\t\torders: []\n\t}\n\n\t_render() {\n\n\n\t\tconst { orders, dataFetched } = this.state;\n\n\t\tconst fetchData = this.fetchData.bind(this);\n\t\tconst updateOrderStatus = this.updateOrderStatus.bind(this);\n\n\t\tconst notLoadedJSX = dataFetched ? undefined : <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={fetchData}>\n\t\t\t\tretry\n\t\t\t</Button>\n\t\t</div>\n\n\t\treturn notLoadedJSX || <div> \n\n\t\t\t<h1>Orders</h1>\n\n\t\t\t{\n\t\t\t\torders.map(order => {\n\n\t\t\t\t\treturn <div>\n\t\t\t\t\t\t<h4>Order #1</h4>\n\n\t\t\t\t\t\t<Table>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t<TableCell></TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t<TableCell>ITEMS</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\torder.items.map(item => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.quantity} <b>X</b> {item.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t<TableCell>STATUS</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t<select data-order-id={order.id} style={{ width: '100%',  }} value={order.status} onChange={updateOrderStatus}>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"not_paid\" disabled>NOT PAID</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"paid\">PAID</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"prepared\">PREPARED</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"delivered\">DELIVERED</option>\n\t\t\t\t\t\t\t\t\t\t</select>\n\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</div>\n\t\t\t\t})\n\t\t\t}\n\t\t</div>\n\n\t}\n}\n\nexport default OutletOrders;","import React from 'react';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\n\n// style-sheets\nimport './App.css';\n\n// components\nimport Navbar from './components/Navbar';\nimport Loading from './components/Loading';\nimport StockUpdateModal from './components/StockUpdateModal';\nimport Cart from './components/Cart';\nimport Footer from './components/Footer';\n\n\n// pages\nimport Home from './pages/Home';\nimport Signup from './pages/Signup';\nimport RegisterOutlet from './pages/RegisterOutlet';\nimport Outlets from './pages/Outlets';\nimport Outlet from './pages/Outlet';\nimport Order from './pages/Order';\nimport MyOrders from './pages/MyOrders';\nimport OutletOrders from './pages/OutletOrders';\n\n// state management\nimport { Provider } from 'react-redux';\nimport store from './store';\n\n\n// function\nfunction setWinHeightCSSVar() {\n\n\tconst winHeight = window.innerHeight + 'px';\n\tdocument.documentElement.style.setProperty('--window-height', winHeight);\n\t\n}\n\nwindow.addEventListener('resize', setWinHeightCSSVar);\nsetWinHeightCSSVar();\n\n\n\nfunction App() {\n\n\treturn (\n\n\t\t<Provider store={store}>\n\t\t\t<Router>\n\t\t\t\t\n\t\t\t\t<Navbar />\n\t\t\t\t<Loading />\n\t\t\t\t<StockUpdateModal />\n\t\t\t\t<Cart />\n\t\t\t\t<Footer />\n\n\t\t\t\t<Switch>\n\n\t\t\t\t\t<Route exact path=\"/\" component={Home} />\n\t\t\t\t\t<Route exact path=\"/signup\" component={Signup} />\n\t\t\t\t\t<Route exact path=\"/outlets/register\" component={RegisterOutlet} />\n\t\t\t\t\t<Route exact path=\"/outlets\" component={Outlets} />\n\t\t\t\t\t<Route exact path=\"/outlets/:id\" component={Outlet} />\n\t\t\t\t\t<Route exact path=\"/outlets/:id/orders\" component={OutletOrders} />\n\t\t\t\t\t<Route exact path=\"/orders/:id\" component={Order} />\n\t\t\t\t\t<Route exact path=\"/my-orders\" component={MyOrders} />\n\n\n\t\t\t\t</Switch>\n\n\t\t\t\t\n\t\t\t</Router>\n\t\t</Provider>\n\t);\n}\n\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}